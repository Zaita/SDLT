!function(e){function t(t){for(var r,o,a=t[0],i=t[1],u=t[2],c=0,s=[];c<a.length;c++)o=a[c],I[o]&&s.push(I[o][0]),I[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(x&&x(t);s.length;)s.shift()();return j.push.apply(j,u||[]),n()}function n(){for(var e,t=0;t<j.length;t++){for(var n=j[t],r=!0,o=1;o<n.length;o++){var a=n[o];0!==I[a]&&(r=!1)}r&&(j.splice(t--,1),e=P(P.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!E[e]||!O[e])return;for(var n in O[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(d[n]=t[n]);0==--v&&0===S&&A()}(e,t),r&&r(e,t)};var o,a=!0,i="0aabc3f14cc9b48114d4",u=1e4,c={},s=[],l=[];function f(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:o!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:w,apply:_,status:function(e){if(!e)return m;p.push(e)},addStatusHandler:function(e){p.push(e)},removeStatusHandler:function(e){var t=p.indexOf(e);t>=0&&p.splice(t,1)},data:c[e]};return o=void 0,t}var p=[],m="idle";function y(e){m=e;for(var t=0;t<p.length;t++)p[t].call(null,e)}var b,d,h,v=0,S=0,g={},O={},E={};function k(e){return+e+""===e?+e:e}function w(e){if("idle"!==m)throw new Error("check() is only allowed in idle status");return a=e,y("check"),(t=u,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=P.p+"hot/hot-update.json";r.open("GET",o,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return y("idle"),null;O={},g={},E=e.c,h=e.h,y("prepare");var t=new Promise(function(e,t){b={resolve:e,reject:t}});for(var n in d={},I)T(n);return"prepare"===m&&0===S&&0===v&&A(),t});var t}function T(e){var t;E[e]?(O[e]=!0,v++,(t=document.createElement("script")).charset="utf-8",t.src=P.p+"hot/hot-update.js",document.head.appendChild(t)):g[e]=!0}function A(){y("ready");var e=b;if(b=null,e)if(a)Promise.resolve().then(function(){return _(a)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&t.push(k(n));e.resolve(t)}}function _(t){if("ready"!==m)throw new Error("apply() is only allowed in ready status");var n,r,o,a,u;function l(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var o=r.pop(),i=o.id,u=o.chain;if((a=C[i])&&!a.hot._selfAccepted){if(a.hot._selfDeclined)return{type:"self-declined",chain:u,moduleId:i};if(a.hot._main)return{type:"unaccepted",chain:u,moduleId:i};for(var c=0;c<a.parents.length;c++){var s=a.parents[c],l=C[s];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:u.concat([s]),moduleId:i,parentId:s};-1===t.indexOf(s)&&(l.hot._acceptedDependencies[i]?(n[s]||(n[s]=[]),f(n[s],[i])):(delete n[s],t.push(s),r.push({chain:u.concat([s]),id:s})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var p={},b=[],v={},S=function(){console.warn("[HMR] unexpected require("+O.moduleId+") to disposed module")};for(var g in d)if(Object.prototype.hasOwnProperty.call(d,g)){var O;u=k(g);var w=!1,T=!1,A=!1,_="";switch((O=d[g]?l(u):{type:"disposed",moduleId:g}).chain&&(_="\nUpdate propagation: "+O.chain.join(" -> ")),O.type){case"self-declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(w=new Error("Aborted because of self decline: "+O.moduleId+_));break;case"declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(w=new Error("Aborted because of declined dependency: "+O.moduleId+" in "+O.parentId+_));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(O),t.ignoreUnaccepted||(w=new Error("Aborted because "+u+" is not accepted"+_));break;case"accepted":t.onAccepted&&t.onAccepted(O),T=!0;break;case"disposed":t.onDisposed&&t.onDisposed(O),A=!0;break;default:throw new Error("Unexception type "+O.type)}if(w)return y("abort"),Promise.reject(w);if(T)for(u in v[u]=d[u],f(b,O.outdatedModules),O.outdatedDependencies)Object.prototype.hasOwnProperty.call(O.outdatedDependencies,u)&&(p[u]||(p[u]=[]),f(p[u],O.outdatedDependencies[u]));A&&(f(b,[O.moduleId]),v[u]=S)}var j,N=[];for(r=0;r<b.length;r++)u=b[r],C[u]&&C[u].hot._selfAccepted&&N.push({module:u,errorHandler:C[u].hot._selfAccepted});y("dispose"),Object.keys(E).forEach(function(e){!1===E[e]&&function(e){delete I[e]}(e)});for(var D,R,x=b.slice();x.length>0;)if(u=x.pop(),a=C[u]){var U={},L=a.hot._disposeHandlers;for(o=0;o<L.length;o++)(n=L[o])(U);for(c[u]=U,a.hot.active=!1,delete C[u],delete p[u],o=0;o<a.children.length;o++){var Q=C[a.children[o]];Q&&((j=Q.parents.indexOf(u))>=0&&Q.parents.splice(j,1))}}for(u in p)if(Object.prototype.hasOwnProperty.call(p,u)&&(a=C[u]))for(R=p[u],o=0;o<R.length;o++)D=R[o],(j=a.children.indexOf(D))>=0&&a.children.splice(j,1);for(u in y("apply"),i=h,v)Object.prototype.hasOwnProperty.call(v,u)&&(e[u]=v[u]);var M=null;for(u in p)if(Object.prototype.hasOwnProperty.call(p,u)&&(a=C[u])){R=p[u];var q=[];for(r=0;r<R.length;r++)if(D=R[r],n=a.hot._acceptedDependencies[D]){if(-1!==q.indexOf(n))continue;q.push(n)}for(r=0;r<q.length;r++){n=q[r];try{n(R)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:u,dependencyId:R[r],error:e}),t.ignoreErrored||M||(M=e)}}}for(r=0;r<N.length;r++){var F=N[r];u=F.module,s=[u];try{P(u)}catch(e){if("function"==typeof F.errorHandler)try{F.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:n,originalError:e}),t.ignoreErrored||M||(M=n),M||(M=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:u,error:e}),t.ignoreErrored||M||(M=e)}}return M?(y("fail"),Promise.reject(M)):(y("idle"),new Promise(function(e){e(b)}))}var C={},I={2:0},j=[];function P(t){if(C[t])return C[t].exports;var n=C[t]={i:t,l:!1,exports:{},hot:f(t),parents:(l=s,s=[],l),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=C[e];if(!t)return P;var n=function(n){return t.hot.active?(C[n]?-1===C[n].parents.indexOf(e)&&C[n].parents.push(e):(s=[e],o=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),s=[]),P(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return P[e]},set:function(t){P[e]=t}}};for(var a in P)Object.prototype.hasOwnProperty.call(P,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(n,a,r(a));return n.e=function(e){return"ready"===m&&y("prepare"),S++,P.e(e).then(t,function(e){throw t(),e});function t(){S--,"prepare"===m&&(g[e]||T(e),0===S&&0===v&&A())}},n.t=function(e,t){return 1&t&&(e=n(e)),P.t(e,-2&t)},n}(t)),n.l=!0,n.exports}P.m=e,P.c=C,P.d=function(e,t,n){P.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},P.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},P.t=function(e,t){if(1&t&&(e=P(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(P.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)P.d(n,r,function(t){return e[t]}.bind(null,r));return n},P.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return P.d(t,"a",t),t},P.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},P.p="/resources/themes/sdlt/dist/img/",P.h=function(){return i};var N=window.webpackJsonp=window.webpackJsonp||[],D=N.push.bind(N);N.push=t,N=N.slice();for(var R=0;R<N.length;R++)t(N[R]);var x=D;j.push([375,0]),n()}({154:function(e,t,n){e.exports=n.p+"../img/f0545538d29150bca803dd2e1d422c11.jpg"},158:function(e,t,n){e.exports=n.p+"../img/b2ce59ecfcc515cb33d81013163089b9.svg"},351:function(e,t,n){e.exports=n.p+"../img/41e304962a77cf734f9bfe9772ab12b9.svg"},352:function(e,t,n){e.exports=n.p+"../img/0e61629440d7a6d860ba88aad4af303a.svg"},353:function(e,t,n){e.exports=n.p+"../img/442b4a253c2be23661dc12e64f264053.svg"},354:function(e,t,n){e.exports=n.p+"../img/2d7ab2e275175116af7444a221be9f74.svg"},356:function(e,t,n){e.exports=n.p+"../img/44cca0ef5b0830924492e8a8413b854e.svg"},357:function(e,t,n){e.exports=n.p+"../img/fb467c695d06bcd18d012bd28ff6f583.svg"},358:function(e,t,n){e.exports=n.p+"../img/8b14213bb682c2ce2e8b21f3ce9bb6f0.svg"},359:function(e,t,n){e.exports=n.p+"../img/b002cf666ac7512c21ad21462efdf4e8.svg"},360:function(e,t,n){e.exports=n.p+"../img/4b4872cec3cb197b21f4d3ac1b8ee472.jpg"},361:function(e,t,n){e.exports=n.p+"../img/d1029db2ceff54ee06b8dafcf9f6a671.jpg"},375:function(e,t,n){n(161),e.exports=n(664)},51:function(e,t,n){e.exports=n.p+"../img/4aa06b86ab33745eda39a0996b2a31bd.svg"},600:function(e,t,n){var r={"./af":213,"./af.js":213,"./ar":214,"./ar-dz":215,"./ar-dz.js":215,"./ar-kw":216,"./ar-kw.js":216,"./ar-ly":217,"./ar-ly.js":217,"./ar-ma":218,"./ar-ma.js":218,"./ar-sa":219,"./ar-sa.js":219,"./ar-tn":220,"./ar-tn.js":220,"./ar.js":214,"./az":221,"./az.js":221,"./be":222,"./be.js":222,"./bg":223,"./bg.js":223,"./bm":224,"./bm.js":224,"./bn":225,"./bn.js":225,"./bo":226,"./bo.js":226,"./br":227,"./br.js":227,"./bs":228,"./bs.js":228,"./ca":229,"./ca.js":229,"./cs":230,"./cs.js":230,"./cv":231,"./cv.js":231,"./cy":232,"./cy.js":232,"./da":233,"./da.js":233,"./de":234,"./de-at":235,"./de-at.js":235,"./de-ch":236,"./de-ch.js":236,"./de.js":234,"./dv":237,"./dv.js":237,"./el":238,"./el.js":238,"./en-SG":239,"./en-SG.js":239,"./en-au":240,"./en-au.js":240,"./en-ca":241,"./en-ca.js":241,"./en-gb":242,"./en-gb.js":242,"./en-ie":243,"./en-ie.js":243,"./en-il":244,"./en-il.js":244,"./en-nz":245,"./en-nz.js":245,"./eo":246,"./eo.js":246,"./es":247,"./es-do":248,"./es-do.js":248,"./es-us":249,"./es-us.js":249,"./es.js":247,"./et":250,"./et.js":250,"./eu":251,"./eu.js":251,"./fa":252,"./fa.js":252,"./fi":253,"./fi.js":253,"./fo":254,"./fo.js":254,"./fr":255,"./fr-ca":256,"./fr-ca.js":256,"./fr-ch":257,"./fr-ch.js":257,"./fr.js":255,"./fy":258,"./fy.js":258,"./ga":259,"./ga.js":259,"./gd":260,"./gd.js":260,"./gl":261,"./gl.js":261,"./gom-latn":262,"./gom-latn.js":262,"./gu":263,"./gu.js":263,"./he":264,"./he.js":264,"./hi":265,"./hi.js":265,"./hr":266,"./hr.js":266,"./hu":267,"./hu.js":267,"./hy-am":268,"./hy-am.js":268,"./id":269,"./id.js":269,"./is":270,"./is.js":270,"./it":271,"./it-ch":272,"./it-ch.js":272,"./it.js":271,"./ja":273,"./ja.js":273,"./jv":274,"./jv.js":274,"./ka":275,"./ka.js":275,"./kk":276,"./kk.js":276,"./km":277,"./km.js":277,"./kn":278,"./kn.js":278,"./ko":279,"./ko.js":279,"./ku":280,"./ku.js":280,"./ky":281,"./ky.js":281,"./lb":282,"./lb.js":282,"./lo":283,"./lo.js":283,"./lt":284,"./lt.js":284,"./lv":285,"./lv.js":285,"./me":286,"./me.js":286,"./mi":287,"./mi.js":287,"./mk":288,"./mk.js":288,"./ml":289,"./ml.js":289,"./mn":290,"./mn.js":290,"./mr":291,"./mr.js":291,"./ms":292,"./ms-my":293,"./ms-my.js":293,"./ms.js":292,"./mt":294,"./mt.js":294,"./my":295,"./my.js":295,"./nb":296,"./nb.js":296,"./ne":297,"./ne.js":297,"./nl":298,"./nl-be":299,"./nl-be.js":299,"./nl.js":298,"./nn":300,"./nn.js":300,"./pa-in":301,"./pa-in.js":301,"./pl":302,"./pl.js":302,"./pt":303,"./pt-br":304,"./pt-br.js":304,"./pt.js":303,"./ro":305,"./ro.js":305,"./ru":306,"./ru.js":306,"./sd":307,"./sd.js":307,"./se":308,"./se.js":308,"./si":309,"./si.js":309,"./sk":310,"./sk.js":310,"./sl":311,"./sl.js":311,"./sq":312,"./sq.js":312,"./sr":313,"./sr-cyrl":314,"./sr-cyrl.js":314,"./sr.js":313,"./ss":315,"./ss.js":315,"./sv":316,"./sv.js":316,"./sw":317,"./sw.js":317,"./ta":318,"./ta.js":318,"./te":319,"./te.js":319,"./tet":320,"./tet.js":320,"./tg":321,"./tg.js":321,"./th":322,"./th.js":322,"./tl-ph":323,"./tl-ph.js":323,"./tlh":324,"./tlh.js":324,"./tr":325,"./tr.js":325,"./tzl":326,"./tzl.js":326,"./tzm":327,"./tzm-latn":328,"./tzm-latn.js":328,"./tzm.js":327,"./ug-cn":329,"./ug-cn.js":329,"./uk":330,"./uk.js":330,"./ur":331,"./ur.js":331,"./uz":332,"./uz-latn":333,"./uz-latn.js":333,"./uz.js":332,"./vi":334,"./vi.js":334,"./x-pseudo":335,"./x-pseudo.js":335,"./yo":336,"./yo.js":336,"./zh-cn":337,"./zh-cn.js":337,"./zh-hk":338,"./zh-hk.js":338,"./zh-tw":339,"./zh-tw.js":339};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=600},606:function(e,t){},664:function(e,t,n){"use strict";n.r(t);n(376),n(378),n(379),n(382),n(383),n(384),n(119),n(387),n(388),n(390),n(391),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(424),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(449),n(450),n(451),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(180),n(465),n(467),n(468),n(469),n(470),n(471),n(472),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513);var r=n(0),o=n.n(r),a=n(61),i=n.n(a),u=n(8),c=n(671),s=n(668),l={HOME:{LOAD_HOME_STATE_STARTED:"LOAD_HOME_STATE_STARTED",LOAD_HOME_STATE_FAILED:"LOAD_HOME_STATE_FAILED",LOAD_HOME_STATE_FINISHED:"LOAD_HOME_STATE_FINISHED"},QUESTIONNAIRE:{LOAD_QUESTIONNAIRE_START_STATE:"LOAD_QUESTIONNAIRE_START_STATE",PUT_DATA_IN_QUESTIONNAIRE_ANSWER:"PUT_DATA_IN_QUESTIONNAIRE_ANSWER",MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION:"MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION",MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE:"MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE",FETCH_MY_SUBMISSION_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/REQUEST",FETCH_MY_SUBMISSION_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/SUCCESS",FETCH_MY_SUBMISSION_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/FAILURE",FETCH_AWAITING_APPROVAL_LIST_REQUEST:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/REQUEST",FETCH_AWAITING_APPROVAL_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_LIST_FAILURE:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/FAILURE",FETCH_MY_PRODUCT_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/REQUEST",FETCH_MY_PRODUCT_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/SUCCESS",FETCH_MY_PRODUCT_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/FAILURE",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/REQUEST",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/SUCCESS",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/FAILURE"},TASK:{LOAD_TASK_SUBMISSION:"ACTION_TASK_LOAD_TASK_SUBMISSION",PUT_DATA_IN_TASK_SUBMISSION:"ACTION_TASK_PUT_DATA_IN_TASK_SUBMISSION",MARK_TASK_QUESTION_NOT_APPLICABLE:"ACTION_TASK_MARK_TASK_QUESTION_NOT_APPLICABLE",MOVE_TO_ANOTHER_TASK_QUESTION:"ACTION_TASK_MOVE_TO_ANOTHER_TASK_QUESTION",COMPLETE_TASK_SUBMISSION:"ACTION_TASK_COMPLETE_TASK_SUBMISSION",EDIT_TASK_SUBMISSION:"ACTION_TASK_EDIT_TASK_SUBMISSION",SAVE_SELECTED_COMPONENT_REQUEST:"TASK/SAVE_SELECTED_COMPONENT/REQUEST",SAVE_SELECTED_COMPONENT_SUCCESS:"TASK/SAVE_SELECTED_COMPONENT/SUCCESS",SAVE_SELECTED_COMPONENT_FAILURE:"TASK/SAVE_SELECTED_COMPONENT/FAILURE"},COMPONENT_SELECTION:{SET_AVAILABLE_COMPONENTS:"ACTION_COMPONENT_SELECTION_SET_AVAILABLE_COMPONENTS",ADD_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_ADD_SELECTED_COMPONENT",REMOVE_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_REMOVE_SELECTED_COMPONENT",SET_JIRA_TICKETS:"ACTION_COMPONENT_SELECTION_SET_JIRA_TICKETS",SET_VIEW_MODE:"ACTION_COMPONENT_SELECTION_SET_VIEW_MODE",LOAD_SELECTED_COMPONENTS:"COMPONENTSELECTION/LOAD_SELECTED_COMPONENTS"},SRA:{LOAD_SECURITY_RISK_ASSESSMENT_REQUEST:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/REQUEST",LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/SUCCESS",LOAD_SECURITY_RISK_ASSESSMENT_FAILURE:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/FAILURE",LOAD_IMPACT_THRESHOLD:"SRA/LOAD_IMPACT_THRESHOLD"},CVA:{LOAD_CONTROL_VALIDATION_AUDIT_REQUEST:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/REQUEST",LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/SUCCESS",LOAD_CONTROL_VALIDATION_AUDIT_FAILURE:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/FAILURE",EMPTY_CONTROL_VALIDATION_AUDIT_DATA:"CVA/EMPTY_CONTROL_VALIDATION_AUDIT_DATA",UPDATE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/UPDATE_CONTROL_VALIDATION_AUDIT_DATA",SAVE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/SAVE_CONTROL_VALIDATION_AUDIT_DATA",RE_SYNC_WITH_JIRA_REQUEST:"CVA/RE_SYNC_WITH_JIRA/REQUEST",RE_SYNC_WITH_JIRA_SUCCESS:"CVA/RE_SYNC_WITH_JIRA/SUCCESS",RE_SYNC_WITH_JIRA_FAILURE:"CVA/RE_SYNC_WITH_JIRA/FAILURE"},UI:{LOAD_DATA_STARTED:"LOAD_DATA_STARTED",LOAD_DATA_FAILED:"LOAD_DATA_FAILED",LOAD_DATA_FINISHED:"LOAD_DATA_FINISHED"},USER:{SET_CURRENT_USER:"ACTION_USER_SET_CURRENT_USER"},SITE_CONFIG:{LOAD_SITE_CONFIG:"SITE_CONFIG/LOAD_SITE_CONFIG"}},f=n(36),p=n(158),m=n.n(p),y=n(351),b=n.n(y),d=n(352),h=n.n(d),v=n(353),S=n.n(v),g=n(354),O=n.n(g),E=n(4),k=n.n(E),w=n(5),T=n.n(w),A=n(355),C=n.n(A),I=n(104),j=n.n(I),P=n(2),N=n.n(P);function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"redirectToQuestionnaireEditing",value:function(e){window.location.href="/#/questionnaire/submission/".concat(e)}},{key:"redirectToQuestionnaireReview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/review/".concat(e,"?token=").concat(t):"/#/questionnaire/review/".concat(e)}},{key:"redirectToQuestionnaireSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/summary/".concat(e,"?token=").concat(t):"/#/questionnaire/summary/".concat(e)}},{key:"redirectToTaskSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/task/submission/".concat(e,"?token=").concat(t):"/#/task/submission/".concat(e)}},{key:"redirectToComponentSelectionSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/component-selection/submission/".concat(e,"?token=").concat(t):"/#/component-selection/submission/".concat(e)}},{key:"redirectToSecurityRiskAssessment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/security-risk-assessment/submission/".concat(e,"?token=").concat(t):"/#/security-risk-assessment/submission/".concat(e)}},{key:"redirectToControlValidationAudit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/control-validation-audit/submission/".concat(e,"?token=").concat(t):"/#/control-validation-audit/submission/".concat(e)}},{key:"redirectToLogout",value:function(){window.location.href="/Security/Logout"}},{key:"redirectToLogin",value:function(){window.location.href="/Security/login?BackURL=%2F"}},{key:"redirectToHome",value:function(){window.location.href="/"}}],(n=null)&&D(t.prototype,n),r&&D(t,r),e}();function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){U(e,t,n[t])})}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"request",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=x({},t),r=n.query,o=n.variables,a=n.csrfToken,i={},a&&(i["X-CSRF-TOKEN"]=a),u={query:C()(r),variables:o},e.next=6,j.a.request({url:"/graphql",method:"post",data:u,headers:i});case 6:if(c=e.sent,s=c.data,!(l=N.a.get(s,"errors.0.message",null))){e.next=11;break}throw new Error(l);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){L(a,r,o,i,u,"next",e)}function u(e){L(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}],n&&Q(t.prototype,n),r&&Q(t,r),e}(),q=new Error("There is an error when fetching data..."),F=new Error("There is an error when parsing data...");function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var H=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseQuestionsFromJSON",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){B(e,t,n[t])})}return e}({},e),n=t.schemaJSON,r=t.answersJSON,o=function(e){var t=JSON.parse(e);if(!t||!Array.isArray(t))throw F;return t}(n),a=function(e){if(!e)return{};var t=JSON.parse(e),n={};return t&&N.a.keys(t).forEach(function(e){n[N.a.toString(e)]=t[e]}),n}(r),i=function(e){var t="";return N.a.keys(e).forEach(function(n){var r=e[n];!t&&Boolean(N.a.get(r,"isCurrent",!1))&&(t=n)}),t}(a);return o.map(function(e,t){var n=N.a.toString(N.a.get(e,"ID","")),r=Boolean(N.a.get(a,"".concat(n,".hasAnswer"),!1)),o=Boolean(N.a.get(a,"".concat(n,".isApplicable"),!0)),u=!1;u=i?i===n:0===t;var c=null,s=null,l=r?N.a.get(a,"".concat(n,".inputs"),[]):[],f=r?N.a.get(a,"".concat(n,".actions"),[]):[],p=N.a.get(e,"AnswerInputFields",[]),m=N.a.get(e,"AnswerActionFields",[]);p&&Array.isArray(p)&&p.length>0&&(c=p.map(function(e){var t=N.a.toString(N.a.get(e,"InputType","")).toLowerCase();"multiple-choice: single selection"===t&&(t="radio"),"multiple-choice: multiple selection"===t&&(t="checkbox");["text","email","textarea","product aspects","date","url","radio","checkbox"].includes(t)||(t="text");var n=N.a.toString(N.a.get(e,"ID","")),r={id:n,label:N.a.toString(N.a.get(e,"Label","")),type:t,required:Boolean(N.a.toInteger(N.a.get(e,"Required",!1))),minLength:Number.parseInt(N.a.toString(N.a.get(e,"MinLength",0))),maxLength:Number.parseInt(N.a.toString(N.a.get(e,"MaxLength",0))),placeholder:N.a.toString(N.a.get(e,"PlaceHolder","")),options:N.a.has(e,"MultiChoiceAnswer")?JSON.parse(N.a.get(e,"MultiChoiceAnswer","")):"",defaultRadioButtonValue:N.a.has(e,"MultiChoiceSingleAnswerDefault")?N.a.toString(N.a.get(e,"MultiChoiceSingleAnswerDefault","")):"",defaultCheckboxValue:N.a.has(e,"MultiChoiceMultipleAnswerDefault")?N.a.get(e,"MultiChoiceMultipleAnswerDefault",""):"",data:null};if(l&&Array.isArray(l)&&l.length>0){var o=N.a.head(l.filter(function(e){return e.id===n}));if(o){var a=N.a.toString(N.a.get(o,"data",null));a&&(r.data=a)}}return r})),m&&Array.isArray(m)&&m.length>0&&(s=m.map(function(e){var t=N.a.toString(N.a.get(e,"ActionType","")).toLowerCase();["continue","goto","message","finish"].includes(t)||(t="continue");var n=N.a.toString(N.a.get(e,"ID","")),r={id:n,label:N.a.toString(N.a.get(e,"Label","")),type:t,isChose:!1};"message"===t&&(r.message=N.a.toString(N.a.get(e,"Message",""))),"goto"===t&&(r.goto=N.a.toString(N.a.get(e,"GotoID",""))),"finish"===t&&(r.result=N.a.toString(N.a.get(e,"Result","")));var o=N.a.toString(N.a.get(e,"TaskID",""));if(r.taskID=o,f&&Array.isArray(f)&&f.length>0){var a=N.a.head(f.filter(function(e){return e.id===n}));if(a){var i=Boolean(N.a.get(a,"isChose",!1));r.isChose=i}}return r}));var y={id:n,title:N.a.toString(N.a.get(e,"Title","")),heading:N.a.toString(N.a.get(e,"Question","")),description:N.a.toString(N.a.get(e,"Description","")),type:"input"===N.a.toString(N.a.get(e,"AnswerFieldType","")).toLowerCase()?"input":"action",isCurrent:u,hasAnswer:r,isApplicable:o};return c&&(y.inputs=c),s&&(y.actions=s),y})}}],(n=null)&&V(t.prototype,n),r&&V(t,r),e}(),J=n(73),K=n.n(J);function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONObject",value:function(e){var t=T()(k()(e,"ID","")),n=T()(k()(e,"Name","")),r=T()(k()(e,"ComponentTarget","")),o=T()(k()(e,"TaskType",""));switch(o){case"questionnaire":case"selection":break;default:o="questionnaire"}var a=[],i=T()(k()(e,"QuestionsDataJSON",""));return i&&(a=H.parseQuestionsFromJSON({schemaJSON:i,answersJSON:"{}"})),{id:t,name:n,type:o,componentTarget:r,questions:a}}},{key:"parseLikelihoodJSONObject",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return t?K()(t).map(function(e){return{name:T()(k()(e,"Name")),value:T()(k()(e,"Value")),operator:T()(k()(e,"Operator")),colour:T()(k()(e,"Colour"))}}):[]}},{key:"parseAlltaskSubmissionforQuestionnaire",value:function(e){if(!e)return[];var t=k()(e,"QuestionnaireSubmission.TaskSubmissions","");return"questionnaire"===k()(e,"Submission.TaskType","")?[]:t?t.map(function(e){return{uuid:T()(k()(e,"UUID")),taskType:T()(k()(e,"TaskType")),status:T()(k()(e,"Status"))}}):[]}}],(n=null)&&Y(t.prototype,n),r&&Y(t,r),e}();function G(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchHomeData",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}",e.next=3,M.request({query:"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}"});case 3:if(t=e.sent,n=k()(t,"data.readDashboard",[]),Array.isArray(n)&&0!==n.length){e.next=7;break}throw q;case 7:return r=n[0],o=T()(k()(r,"Title","")),a=T()(k()(r,"Subtitle","")),i=k()(r,"Pillars",[]),u=this.parsePillars(i),c=k()(r,"Tasks",[]),s=this.parseTasks(c),e.abrupt("return",{title:o,subtitle:a,pillars:u,tasks:s});case 15:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){G(a,r,o,i,u,"next",e)}function u(e){G(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"parsePillars",value:function(e){return Array.isArray(e)?e.map(function(e){var t=m.a;switch(e.Type){case"proof_of_concept":t=m.a;break;case"software_as_service":t=b.a;break;case"product_project_or_solution":t=h.a;break;case"feature_or_bug_fix":t=S.a;break;case"risk_questionnaire":t=O.a}return{title:T()(k()(e,"Label","")),disabled:Boolean(k()(e,"Disabled",!0)),questionnaireID:T()(k()(e,"Questionnaire.0.ID","")),icon:t}}):[]}},{key:"parseTasks",value:function(e){if(!Array.isArray(e))return[];var t=[];return e.forEach(function(e){var n=W.parseFromJSONObject(e);t.push(n)}),t}}],n&&z(t.prototype,n),r&&z(t,r),e}();function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"displayError",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(alert(e),t)throw e}}],(n=null)&&X(t.prototype,n),r&&X(t,r),e}();function ee(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function te(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.fetchHomeData();case 3:n=e.sent,r={type:l.HOME.LOAD_HOME_STATE_FINISHED,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ee(a,r,o,i,u,"next",e)}function u(e){ee(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}var ne=n(667);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var se=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ie(this,ue(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=["Pillar"].concat(oe(this.props.classes));return this.props.pillar.disabled&&t.push("disabled"),o.a.createElement(ne.a,{className:t.join(" "),to:this.props.link,onClick:function(t){e.props.pillar.disabled&&(t.preventDefault(),alert("Coming soon..."))}},o.a.createElement("div",{className:"icon"},o.a.createElement("img",{src:this.props.pillar.icon,alt:this.props.pillar.title})),o.a.createElement("div",{className:"title"},this.props.pillar.title))}}])&&ae(n.prototype,a),i&&ae(n,i),t}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var de=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),me(this,ye(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=["TaskButton"].concat(fe(this.props.classes));return o.a.createElement(ne.a,{className:e.join(" "),to:this.props.link},this.props.title)}}])&&pe(n.prototype,a),i&&pe(n,i),t}(),he=n(356),ve=n.n(he);function Se(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Oe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"getCSRFToken",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.request({url:"/getCSRFToken",method:"get",headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(t=e.sent,n=t.data,r=N.a.get(n,"CSRFToken",null)){e.next=7;break}throw new Error(n);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Se(a,r,o,i,u,"next",e)}function u(e){Se(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&ge(t.prototype,n),r&&ge(t,r),e}();function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ae(this,_e(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){we(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.logout()}},o.a.createElement("div",null,o.a.createElement("img",{src:ve.a}),"Log Out"))}},{key:"logout",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe.getCSRFToken();case 2:t=e.sent,window.location.href="/Security/Logout?SecurityID=".concat(t);case 4:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ke(a,r,o,i,u,"next",e)}function u(e){ke(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&Te(n.prototype,a),i&&Te(n,i),t}();Ie.defaultProps={classes:[]};var je=Ie,Pe=n(74),Ne=n.n(Pe);function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Le(this,Qe(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xe(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:Ne.a}),"My Submissions"))}},{key:"allSubmission",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MySubmissions";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Re(a,r,o,i,u,"next",e)}function u(e){Re(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&Ue(n.prototype,a),i&&Ue(n,i),t}();qe.defaultProps={classes:[]};var Fe=qe,Be=n(357),Ve=n.n(Be);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),We(this,Ge(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ke(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.awaitingApprovals()}},o.a.createElement("div",null,o.a.createElement("img",{src:Ve.a}),"Awaiting Approvals"))}},{key:"awaitingApprovals",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/AwaitingApprovals";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Je(a,r,o,i,u,"next",e)}function u(e){Je(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&Ye(n.prototype,a),i&&Ye(n,i),t}();Ze.defaultProps={classes:[]};var Xe=Ze,$e=n(358),et=n.n($e);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ut(e,t){return(ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ct=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),at(this,it(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rt(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:et.a}),"My Products"))}},{key:"allSubmission",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MyProducts";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){nt(a,r,o,i,u,"next",e)}function u(e){nt(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&ot(n.prototype,a),i&&ot(n,i),t}();ct.defaultProps={classes:[]};var st=ct;function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){pt(e,t,n[t])})}return e}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t){return!t||"object"!==lt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ht=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yt(this,bt(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=ft({},this.props.homeState),t=e.title,n=e.subtitle,r=e.pillars,a=e.tasks,i=ft({},this.props.siteConfig).logoPath;return o.a.createElement("div",{className:"Home"},o.a.createElement(je,{classes:["clearfix","float-right","mt-5","mr-4"]}),o.a.createElement(Fe,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(Xe,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(st,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement("div",{className:"layout"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:i,className:"logo"})),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n),o.a.createElement("div",{className:"pillars"},o.a.createElement("div",{className:"row"},r.map(function(e,t){return o.a.createElement(se,{link:"/questionnaire/start/".concat(e.questionnaireID),classes:["col","mx-1"],pillar:e,key:"pillar_"+(t+1)})}))),o.a.createElement("div",{className:"tasks"},a.map(function(e,t){var n="/tasks/standalone/".concat(e.id);return"selection"===e.type&&(n="/component-selection/standalone/".concat(e.id,"?componentTarget=").concat(e.componentTarget)),o.a.createElement(de,{link:n,classes:["mx-1"],title:e.name,key:"standalone_task_"+(t+1)})}))))}}])&&mt(n.prototype,a),i&&mt(n,i),t}();function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ot(this,Et(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){St(e,t,n[t])})}return e}({},this.props).footerCopyrightText;return o.a.createElement("footer",{className:"Footer"},o.a.createElement("div",null,e))}}])&&gt(n.prototype,a),i&&gt(n,i),t}();wt.defaultProps={footerCopyrightText:""};var Tt=wt,At=n(154),_t=n.n(At),Ct=n(359),It=n.n(Ct),jt=n(360),Pt=n.n(jt),Nt=n(361),Dt=n.n(Nt);function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseSiteConfigFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=String.fromCharCode(169)+" NZTA "+(new Date).getFullYear();return{siteTitle:T()(k()(t,"Title")||"NZTA SDLT"),footerCopyrightText:T()(k()(t,"FooterCopyrightText","")||n),logoPath:T()(k()(t,"LogoPath","")||It.a),homePageBackgroundImagePath:T()(k()(t,"HomePageBackgroundImagePath","")||_t.a),pdfHeaderImageLink:T()(k()(t,"PdfHeaderImageLink","")||Pt.a),pdfFooterImageLink:T()(k()(t,"PdfFooterImageLink","")||Dt.a)}}}],(n=null)&&Rt(t.prototype,n),r&&Rt(t,r),e}();function Ut(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchSiteConfig",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}",e.next=3,M.request({query:"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}"});case 3:return t=e.sent,n=N.a.get(t,"data.readSiteConfig.0",null),r=xt.parseSiteConfigFromJSON(n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Ut(a,r,o,i,u,"next",e)}function u(e){Ut(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&Lt(t.prototype,n),r&&Lt(t,r),e}();function Mt(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function qt(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qt.fetchSiteConfig();case 3:n=e.sent,r={type:l.SITE_CONFIG.LOAD_SITE_CONFIG,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Mt(a,r,o,i,u,"next",e)}function u(e){Mt(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ht(this,Jt(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){this.props.dispatchLoadHomeDataAction&&this.props.dispatchLoadHomeDataAction()}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Bt(e,t,n[t])})}return e}({},this.props),t=e.siteConfig,n=e.homeState;return n&&t?o.a.createElement("div",{className:"HomeContainer",style:{backgroundImage:'url("'.concat(t.homePageBackgroundImagePath,'")'),backgroundSize:"cover"}},o.a.createElement(ht,{homeState:n,siteConfig:t}),o.a.createElement(Tt,{footerCopyrightText:t.footerCopyrightText})):null}}])&&Vt(n.prototype,a),i&&Vt(n,i),t}(),Wt=Object(u.b)(function(e){return{homeState:e.homeState,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadHomeDataAction:function(){e(te()),e(qt())}}})(Yt),Gt=n(31),zt=n.n(Gt);function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function en(e,t){return!t||"object"!==Zt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nn(e,t){return(nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),en(this,tn(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Xt(e,t,n[t])})}return e}({},this.props),t=e.title,n=e.classes,r=e.disabled,a=e.onClick,i=e.iconImage,u=null;return i&&(u=o.a.createElement("img",{src:i})),o.a.createElement("button",{className:zt()("BaseButton",n,{disabled:r}),onClick:function(e){r?e.preventDefault():a(e)}},u,t)}}])&&$t(n.prototype,a),i&&$t(n,i),t}();rn.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var on=rn;function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(){return(un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e,t){return!t||"object"!==an(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ln(this,fn(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement(on,un({},this.props,{classes:["LightButton"].concat(cn(this.props.classes))}))}}])&&sn(n.prototype,a),i&&sn(n,i),t}();mn.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var yn=mn;function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t){return!t||"object"!==bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sn(e,t){return(Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hn(this,vn(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.keyInformation,n=e.user,r=e.onStartButtonClick;return o.a.createElement("div",{className:"Start"},o.a.createElement("div",{className:"start-form"},o.a.createElement("div",{className:"info-box"},o.a.createElement("div",{className:"key-info-title"},"Key Information:"),o.a.createElement("div",{className:"key-info",dangerouslySetInnerHTML:{__html:t}}),o.a.createElement("div",{className:"user-info"},o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Your Name: "),o.a.createElement("span",null,n.name)),o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Email Address: "),o.a.createElement("span",null,n.email))),o.a.createElement("div",{className:"actions"},o.a.createElement(yn,{title:"START",onClick:r})))))}}])&&dn(n.prototype,a),i&&dn(n,i),t}();function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var En=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseUserFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=k()(t,"FirstName")?T()(k()(t,"FirstName",""))+" "+T()(k()(t,"Surname","")):"";return{id:T()(k()(t,"ID")),name:n,email:k()(t,"Email"),isSA:"true"===T()(k()(t,"IsSA")),isCISO:"true"===T()(k()(t,"IsCISO"))}}}],(n=null)&&On(t.prototype,n),r&&On(t,r),e}();function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){wn(e,t,n[t])})}return e}function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tn(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function An(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Tn(a,r,o,i,u,"next",e)}function u(e){Tn(a,r,o,i,u,"throw",e)}i(void 0)})}}function _n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"createInProgressSubmission",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.questionnaireID,o=n.csrfToken,a="\nmutation {\n createQuestionnaireSubmission(QuestionnaireID: ".concat(r,"){\n   UUID\n }\n}"),e.next=4,M.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=N.a.get(i,"data.createQuestionnaireSubmission.UUID",null)){e.next=8;break}throw q;case 8:return e.abrupt("return",u);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStartData",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaire(ID: ".concat(t,") {\n    ID\n    Name\n    KeyInformation\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}\n"),e.next=3,M.request({query:n});case 3:if(r=e.sent,o=N.a.get(r,"data.readCurrentMember.0",null),a=N.a.get(r,"data.readQuestionnaire",null),i=N.a.get(r,"data.readSiteConfig.0",null),o&&a&&i){e.next=9;break}throw q;case 9:return e.abrupt("return",{title:N.a.get(a,"Name",""),siteConfig:xt.parseSiteConfigFromJSON(i),subtitle:N.a.get(i,"Title",""),questionnaireID:N.a.get(a,"ID",""),keyInformation:N.a.get(a,"KeyInformation",""),user:En.parseUserFromJSON(o)});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchSubmissionData",value:function(){var e=An(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaireSubmission(UUID: "'.concat(t,'", SecureToken: "').concat(n,'") {\n    ID\n    UUID\n    ApprovalLinkToken\n    User {\n      ID\n    }\n    SubmitterName,\n    SubmitterEmail,\n    QuestionnaireStatus,\n    BusinessOwnerApproverName,\n    RiskResultData,\n    Questionnaire {\n      ID\n      Name\n    }\n    QuestionnaireData\n    AnswerData\n    CisoApprovalStatus\n    BusinessOwnerApprovalStatus\n    SecurityArchitectApprovalStatus\n    IsCurrentUserAnApprover\n    ProductName\n    IsCurrentUserABusinessOwnerApprover\n    TaskSubmissions {\n      UUID\n      TaskName\n      TaskType\n      Status\n      TaskApprover {\n        ID\n        FirstName\n        Surname\n      }\n    }\n    CisoApprover {\n      FirstName\n      Surname\n    }\n    SecurityArchitectApprover {\n      FirstName\n      Surname\n    }\n    ApprovalOverrideBySecurityArchitect\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}'),e.next=3,M.request({query:r});case 3:if(o=e.sent,a=N.a.get(o,"data.readCurrentMember.0",{}),i=N.a.get(o,"data.readQuestionnaireSubmission.0",{}),u=N.a.get(o,"data.readSiteConfig.0",null),a&&i&&u){e.next=9;break}throw q;case 9:return c={title:N.a.toString(N.a.get(i,"Questionnaire.Name","")),siteConfig:xt.parseSiteConfigFromJSON(u),user:En.parseUserFromJSON(a),isCurrentUserApprover:"true"===N.a.get(i,"IsCurrentUserAnApprover","false"),isCurrentUserABusinessOwnerApprover:"true"===N.a.get(i,"IsCurrentUserABusinessOwnerApprover","false"),submission:{isApprovalOverrideBySecurityArchitect:Boolean(N.a.get(i,"ApprovalOverrideBySecurityArchitect",!1)),questionnaireID:N.a.toString(N.a.get(i,"Questionnaire.ID","")),questionnaireTitle:N.a.toString(N.a.get(i,"Questionnaire.Name","")),submissionID:N.a.toString(N.a.get(i,"ID","")),submissionUUID:N.a.toString(N.a.get(i,"UUID","")),submissionToken:N.a.toString(N.a.get(i,"ApprovalLinkToken","")),productName:N.a.toString(N.a.get(i,"ProductName","")),submitter:{id:N.a.toString(N.a.get(i,"User.ID")),name:N.a.toString(N.a.get(i,"SubmitterName","")),email:N.a.toString(N.a.get(i,"SubmitterEmail","")),isSA:!1,isCISO:!1},status:N.a.toString(N.a.get(i,"QuestionnaireStatus","")).toLowerCase().replace("-","_"),approvalStatus:{chiefInformationSecurityOfficer:N.a.toString(N.a.get(i,"CisoApprovalStatus","")),businessOwner:N.a.toString(N.a.get(i,"BusinessOwnerApprovalStatus","")),securityArchitect:N.a.toString(N.a.get(i,"SecurityArchitectApprovalStatus",""))},securityArchitectApprover:{FirstName:N.a.toString(N.a.get(i,"SecurityArchitectApprover.FirstName","")),Surname:N.a.toString(N.a.get(i,"SecurityArchitectApprover.Surname",""))},cisoApprover:{FirstName:N.a.toString(N.a.get(i,"CisoApprover.FirstName","")),Surname:N.a.toString(N.a.get(i,"CisoApprover.Surname",""))},questions:H.parseQuestionsFromJSON({schemaJSON:N.a.toString(N.a.get(i,"QuestionnaireData","")),answersJSON:N.a.toString(N.a.get(i,"AnswerData",""))}),businessOwnerApproverName:N.a.toString(N.a.get(i,"BusinessOwnerApproverName","")),taskSubmissions:N.a.toArray(N.a.get(i,"TaskSubmissions",[])).map(function(e){return{uuid:N.a.toString(N.a.get(e,"UUID","")),taskName:N.a.toString(N.a.get(e,"TaskName","")),taskType:N.a.toString(N.a.get(e,"TaskType","")),status:N.a.toString(N.a.get(e,"Status","")),approver:En.parseUserFromJSON(N.a.get(e,"TaskApprover"))}}),riskResults:N.a.has(i,"RiskResultData")?JSON.parse(N.a.get(i,"RiskResultData","[]")):"[]"}},e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateSubmissionData",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.questionID,a=n.answerData,i=n.csrfToken,u=window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c='\nmutation {\n  updateQuestionnaireSubmission(ID: "'.concat(r,'", QuestionID: "').concat(o,'", AnswerData: "').concat(u,'") {\n    ID\n    AnswerData\n  }\n}'),e.next=5,M.request({query:c,csrfToken:i});case 5:if(s=e.sent,N.a.get(s,"data.updateQuestionnaireSubmission.AnswerData",null)){e.next=9;break}throw q;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"batchUpdateSubmissionData",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s,l,f,p,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=kn({},t),r=n.submissionID,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,o.length===a.length){e.next=3;break}throw q;case 3:for(u=[],c=0;c<o.length;c++)s=o[c],l=a[c],f=window.btoa(unescape(encodeURIComponent(JSON.stringify(l)))),p="\nupdateQuestion".concat(s,': updateQuestionnaireSubmission(ID: "').concat(r,'", QuestionID: "').concat(s,'", AnswerData: "').concat(f,'") {\n  ID\n  AnswerData\n}'),u.push(p);return m="\nmutation {\n  ".concat(u.join("\n"),"\n}\n"),e.next=8,M.request({query:m,csrfToken:i});case 8:if(y=e.sent,N.a.get(y,"data",null)){e.next=12;break}throw q;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitQuestionnaire",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToSubmitted(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,M.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToSubmitted.QuestionnaireStatus",null)),c=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToSubmitted.UUID",null)),u&&c){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitQuestionnaireForApproval",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToAssignToSecurityArchitect(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,M.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.QuestionnaireStatus",null)),c=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.UUID",null)),u&&c){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"assignQuestionnaireSubmissionToSecurityArchitect",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToWaitingForSecurityArchitectApproval(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,M.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.QuestionnaireStatus",null)),c=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.UUID",null)),u&&c){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveQuestionnaireSubmission",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnApproveByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,M.request({query:i,csrfToken:o});case 4:if(u=e.sent,c=N.a.toString(N.a.get(u,"data.updateQuestionnaireOnApproveByGroupMember.QuestionnaireStatus",null)),s=N.a.toString(N.a.get(u,"data.updateQuestionnaireOnApproveByGroupMember.UUID",null)),c&&s){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyQuestionnaireSubmission",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnDenyByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,M.request({query:i,csrfToken:o});case 4:if(u=e.sent,c=N.a.toString(N.a.get(u,"data.updateQuestionnaireOnDenyByGroupMember.QuestionnaireStatus",null)),s=N.a.toString(N.a.get(u,"data.updateQuestionnaireOnDenyByGroupMember.UUID",null)),c&&s){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editQuestionnaireSubmission",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToInProgress(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,M.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToInProgress.QuestionnaireStatus",null)),c=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToInProgress.UUID",null)),u&&c){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchQuestionnaireSubmissionList",value:function(){var e=An(regeneratorRuntime.mark(function e(t,n){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='query {\n      readQuestionnaireSubmission(UserID: "'.concat(t,'", PageType: "').concat(n,'") {\n        ID\n        UUID\n        QuestionnaireStatus\n        QuestionnaireName\n        Created\n        ProductName\n        BusinessOwnerApproverName\n        SubmitterName\n        SecurityArchitectApprover {\n          ID\n        }\n      }\n    }'),e.next=3,M.request({query:r});case 3:if(o=e.sent,a=N.a.get(o,"data.readQuestionnaireSubmission",[]),Array.isArray(a)){e.next=7;break}throw"error";case 7:return e.abrupt("return",a.map(function(e){var t={};return t.id=N.a.get(e,"ID",""),t.uuid=N.a.get(e,"UUID",""),t.status=N.a.get(e,"QuestionnaireStatus",""),t.productName=N.a.get(e,"ProductName",""),t.questionnaireName=N.a.get(e,"QuestionnaireName",""),t.created=N.a.get(e,"Created",""),t.businessOwner=N.a.get(e,"BusinessOwnerApproverName",""),t.submitterName=N.a.get(e,"SubmitterName",""),t.SecurityArchitectApproverID=N.a.get(e,"SecurityArchitectApprover.ID",""),t}));case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"approveQuestionnaireSubmissionAsBusinessOwner",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToApproved(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,M.request({query:i,csrfToken:o});case 4:if(u=e.sent,c=N.a.toString(N.a.get(u,"data.updateQuestionnaireStatusToApproved.QuestionnaireStatus",null)),s=N.a.toString(N.a.get(u,"data.updateQuestionnaireStatusToApproved.UUID",null)),c&&s){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyQuestionnaireSubmissionAsBusinessOwner",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToDenied(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,M.request({query:i,csrfToken:o});case 4:if(u=e.sent,c=N.a.toString(N.a.get(u,"data.updateQuestionnaireStatusToDenied.QuestionnaireStatus",null)),s=N.a.toString(N.a.get(u,"data.updateQuestionnaireStatusToDenied.UUID",null)),c&&s){e.next=9;break}throw q;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&_n(t.prototype,n),r&&_n(t,r),e}();function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){jn(e,t,n[t])})}return e}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Nn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"transformFromFullQuestionToData",value:function(e){var t={isCurrent:e.isCurrent,hasAnswer:e.hasAnswer,isApplicable:e.isApplicable,answerType:e.type};return"input"===e.type&&Array.isArray(e.inputs)&&(t.inputs=e.inputs.map(function(e){var t=e.data;return t&&N.a.isString(t)&&(t=t.trim()),{id:e.id,data:t}})),"action"===e.type&&Array.isArray(e.actions)&&(t.actions=e.actions.map(function(e){return{id:e.id,isChose:e.isChose}})),t}},{key:"existsUnansweredQuestion",value:function(e){var t=!1;return e.forEach(function(e){var n=In({},e),r=n.hasAnswer,o=n.isApplicable;!r&&o&&(t=!0)}),t}},{key:"existsIncompleteTaskSubmission",value:function(e){var t=!1;return e.forEach(function(e){"in_progress"!==e.status&&"start"!==e.status&&"waiting_for_approval"!==e.status&&"denied"!==e.status||(t=!0)}),t}},{key:"getDataUpdateIntent",value:function(e){var t=In({},e),n=t.answeredQuestion,r=t.questions,o=r.findIndex(function(e){return e.id===n.id}),a=o===r.length-1,i={currentIndex:o,nonApplicableIndexes:[],targetIndex:0,complete:!1,terminate:!1,result:""};if("input"===n.type)return a?i.complete=!0:i.targetIndex=i.currentIndex+1,i;if("action"===n.type){if(!n.actions)throw new Error("This question does not have any action!");var u=n.actions.find(function(e){return e.isChose});if(!u)throw new Error("This question does not have any chosen action!");if("finish"===u.type){for(var c=i.currentIndex+1;c<r.length;c++)i.nonApplicableIndexes.push(c);i.result=u.result||"",i.complete=!0}if("message"===u.type&&(i.terminate=!0),"continue"!==u.type||a||(i.targetIndex=i.currentIndex+1),"goto"===u.type){var s=u.goto;if(i.targetIndex=r.findIndex(function(e){return e.id===s}),i.targetIndex<=i.currentIndex)throw new Error("The next question is not set correctly!");if(i.targetIndex-i.currentIndex>1)for(var l=i.currentIndex+1;l<i.targetIndex;)i.nonApplicableIndexes.push(l),l++}return a&&(i.complete=!0),i}throw new Error("Wrong question type!")}}],(n=null)&&Pn(t.prototype,n),r&&Pn(t,r),e}(),Dn=n(155),Rn=n.n(Dn);function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Un=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONOArray",value:function(t){return K()(t).map(function(t){var n=e.parseFromJSONObject(k()(t,"SecurityComponent"));return n.productAspect=T()(k()(t,"ProductAspect","")),n})}},{key:"parseFromJSONObject",value:function(e){return{id:T()(k()(e,"ID","")),name:T()(k()(e,"Name","")),description:T()(k()(e,"Description")),controls:(k()(e,"Controls")||[]).map(function(e){return{id:T()(k()(e,"ID","")),name:T()(k()(e,"Name","")),description:T()(k()(e,"Description",""))}})}}},{key:"parseCVAFromJSONObject",value:function(e){return e.map(function(e){return{id:T()(k()(e,"id","")),name:T()(k()(e,"name","")),productAspect:T()(k()(e,"productAspect","")),controls:(k()(e,"controls")||[]).map(function(e){return{id:T()(k()(e,"id","")),name:T()(k()(e,"name","")),selectedOption:T()(k()(e,"selectedOption","")),description:T()(k()(e,"description",""))}}),jiraTicketLink:T()(k()(e,"jiraTicketLink",""))}})}}],(n=null)&&xn(t.prototype,n),r&&xn(t,r),e}();function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONArray",value:function(t){return K()(t).map(function(t){return e.parseFromJSONObject(t)})}},{key:"parseFromJSONObject",value:function(e){return{id:T()(k()(e,"ID")),jiraKey:T()(k()(e,"JiraKey")),link:T()(k()(e,"TicketLink"))}}}],(n=null)&&Ln(t.prototype,n),r&&Ln(t,r),e}();function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){qn(e,t,n[t])})}return e}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fn(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Bn(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Fn(a,r,o,i,u,"next",e)}function u(e){Fn(a,r,o,i,u,"throw",e)}i(void 0)})}}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Hn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchTaskSubmission",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mn({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    TaskName\n    TaskType\n    Status\n    Result\n    LockAnswersWhenComplete\n    QuestionnaireSubmission {\n      ID\n      UUID\n      QuestionnaireStatus\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    Submitter {\n      ID\n      Email\n      FirstName\n      Surname\n      IsSA\n      IsCISO\n    }\n    QuestionnaireData\n    AnswerData\n    SelectedComponents {\n      ID\n      ProductAspect\n      SecurityComponent {\n        ID\n        Name\n        Description\n        Controls {\n          ID\n          Name\n          Description\n        }\n      }\n    }\n    JiraTickets {\n      ID\n      JiraKey\n      TicketLink\n    }\n    IsTaskApprovalRequired\n    IsCurrentUserAnApprover\n    RiskResultData\n    ComponentTarget\n    ProductAspects\n  }\n}'),e.next=4,M.request({query:a});case 4:if(i=e.sent,u=k()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw q;case 8:return c={id:T()(k()(u,"ID","")),uuid:T()(k()(u,"UUID","")),taskName:T()(k()(u,"TaskName","")),taskType:T()(k()(u,"TaskType","")),status:T()(k()(u,"Status","")),result:T()(k()(u,"Result","")),submitter:En.parseUserFromJSON(k()(u,"Submitter")),lockWhenComplete:Boolean(k()(u,"LockAnswersWhenComplete",!1)),questionnaireSubmissionUUID:T()(k()(u,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionID:T()(k()(u,"QuestionnaireSubmission.ID","")),questionnaireSubmissionStatus:T()(k()(u,"QuestionnaireSubmission.QuestionnaireStatus","")),questions:H.parseQuestionsFromJSON({schemaJSON:T()(k()(u,"QuestionnaireData","")),answersJSON:T()(k()(u,"AnswerData",""))}),selectedComponents:Un.parseFromJSONOArray(k()(u,"SelectedComponents",[])),jiraTickets:Qn.parseFromJSONArray(k()(u,"JiraTickets",[])),isCurrentUserAnApprover:"true"===_.get(u,"IsCurrentUserAnApprover","false"),isTaskApprovalRequired:"true"===k()(u,"IsTaskApprovalRequired",!1),riskResults:_.has(u,"RiskResultData")?JSON.parse(_.get(u,"RiskResultData","[]")):"[]",productAspects:_.has(u,"ProductAspects")?JSON.parse(_.get(u,"ProductAspects",[])):[],componentTarget:T()(k()(u,"ComponentTarget","")),siblingSubmissions:W.parseAlltaskSubmissionforQuestionnaire(u)},e.abrupt("return",c);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"batchUpdateTaskSubmissionData",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s,l,f,p,m,y,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Mn({},t),r=n.uuid,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,u=n.secureToken,o.length===a.length){e.next=3;break}throw q;case 3:for(c=[],s=0;s<o.length;s++)l=o[s],f=a[s],p=window.btoa(unescape(encodeURIComponent(JSON.stringify(f)))),m="\nupdateQuestion".concat(l,': updateTaskSubmission(\n  UUID: "').concat(r,'",\n  QuestionID: "').concat(l,'",\n  AnswerData: "').concat(p,'",\n  SecureToken: "').concat(u||"",'"\n) {\n  UUID\n  Status\n}'),c.push(m);return y="\nmutation {\n  ".concat(c.join("\n"),"\n}\n"),e.next=8,M.request({query:y,csrfToken:i});case 8:if(b=e.sent,k()(b,"data",null)){e.next=12;break}throw q;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"completeTaskSubmission",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mn({},t),r=n.uuid,o=n.result,a=n.csrfToken,i=n.secureToken,u='\nmutation {\n completeTaskSubmission(UUID: "'.concat(r,'", Result: "').concat(o,'", SecureToken: "').concat(i||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,M.request({query:u,csrfToken:a});case 4:if(c=e.sent,k()(c,"data.completeTaskSubmission.UUID",null)){e.next=7;break}throw q;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editTaskSubmission",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mn({},t),r=n.uuid,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n editTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,M.request({query:i,csrfToken:o});case 4:if(u=e.sent,k()(u,"data.editTaskSubmission.UUID",null)){e.next=7;break}throw q;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStandaloneTask",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mn({},t),r=n.taskId,o='\nquery {\n  readTask(ID: "'.concat(r,'") {\n    ID\n    Name\n    TaskType\n    QuestionsDataJSON\n  }\n}'),e.next=4,M.request({query:o});case 4:if(a=e.sent,i=k()(a,"data.readTask",null)){e.next=8;break}throw q;case 8:return u=W.parseFromJSONObject(i),e.abrupt("return",u);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateTaskSubmissionWithSelectedComponents",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mn({},t),r=n.uuid,o=n.csrfToken,a=n.components,i=n.jiraKey,u='\nmutation {\n updateTaskSubmissionWithSelectedComponents(\n UUID: "'.concat(r,'",\n Components: "').concat(window.btoa(JSON.stringify(a)),'",\n JiraKey: "').concat(i,'"\n ) {\n   UUID\n   Status\n }\n}'),e.next=4,M.request({query:u,csrfToken:o});case 4:if(c=e.sent,k()(c,"data.updateTaskSubmissionWithSelectedComponents.UUID",null)){e.next=7;break}throw q;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveTaskSubmission",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mn({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToApproved(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,M.request({query:a,csrfToken:o});case 4:if(i=e.sent,(u=_.toString(_.get(i,"data.updateTaskStatusToApproved.Status",null)))&&r){e.next=8;break}throw q;case 8:return e.abrupt("return",{status:u});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyTaskSubmission",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mn({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToDenied(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,M.request({query:a,csrfToken:o});case 4:if(i=e.sent,(u=_.toString(_.get(i,"data.updateTaskStatusToDenied.Status",null)))&&r){e.next=8;break}throw q;case 8:return e.abrupt("return",{status:u});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&Vn(t.prototype,n),r&&Vn(t,r),e}();function Jn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Kn(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Yn(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Kn(a,r,o,i,u,"next",e)}function u(e){Kn(a,r,o,i,u,"throw",e)}i(void 0)})}}function Wn(e,t){return void 0===t&&(t=""),function(){var n=Yn(regeneratorRuntime.mark(function n(r){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST});case 2:return n.prev=2,n.next=5,Cn.fetchSubmissionData(e,t);case 5:o=n.sent,r((a=o,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS,payload:a})),n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(2),n.next=13,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE,error:n.t0});case 13:alert(n.t0);case 14:case"end":return n.stop()}var a},n,this,[[2,9]])}));return function(e){return n.apply(this,arguments)}}()}function Gn(e){return function(){var t=Yn(regeneratorRuntime.mark(function t(n,r){var o,a,i,u,c,s,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:return i=Nn.getDataUpdateIntent({answeredQuestion:e,questions:a.questions}),u=i.currentIndex,c=i.targetIndex,s=i.nonApplicableIndexes,f=i.complete,s.length>0&&n({type:l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE,nonApplicableIndexes:s}),c>u&&n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:c}),t.next=9,zn(r(),N.a.uniq([u].concat(Jn(s),[c])));case 9:f&&R.redirectToQuestionnaireReview(a.submissionUUID);case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}function zn(e,t){return Zn.apply(this,arguments)}function Zn(){return(Zn=Yn(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.questionnaireState.submissionState.submission){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Oe.getCSRFToken();case 5:return o=e.sent,e.prev=6,e.next=9,Cn.batchUpdateSubmissionData({submissionID:r.submissionID,questionIDList:n.map(function(e){return r.questions[e].id}),answerDataList:n.map(function(e){return Nn.transformFromFullQuestionToData(r.questions[e])}),csrfToken:o});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0.message);case 14:case"end":return e.stop()}},e,this,[[6,11]])}))).apply(this,arguments)}function Xn(e){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return!t||"object"!==Xn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var or=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tr(this,nr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$n(e,t,n[t])})}return e}({},this.props),t=e.title,n=e.subtitle,r=e.showLogoutButton,a=e.username,i=e.logopath;return o.a.createElement("header",{className:"Header"},o.a.createElement("div",{className:"top-banner"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:i,className:"logo"}))),o.a.createElement("div",{className:"logout-layout"},r&&o.a.createElement("div",{className:"logout-block"},o.a.createElement("span",{className:"username"},a),o.a.createElement(je,null))),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n))}}])&&er(n.prototype,a),i&&er(n,i),t}();or.defaultProps={title:"",subtitle:"",username:"",logopath:"",showLogoutButton:!0};var ar=or;function ir(e){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){cr(e,t,n[t])})}return e}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t){return!t||"object"!==ir(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lr(this,fr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=ur({},this.props),t=e.questionnaireID;(0,e.dispatchLoadQuestionnaireAction)(t)}},{key:"render",value:function(){var e=ur({},this.props.startState),t=e.title,n=e.siteConfig,r=e.keyInformation,a=e.user,i=ur({},this.props),u=i.questionnaireID,c=i.dispatchCreateInProgressSubmissionAction;return a?o.a.createElement("div",{className:"StartContainer"},o.a.createElement(ar,{title:t,subtitle:n.siteTitle,username:a.name,logopath:n.logoPath}),o.a.createElement(gn,{keyInformation:r,user:a,onStartButtonClick:function(){c(u)}}),o.a.createElement(Tt,{footerCopyrightText:n.footerCopyrightText})):null}}])&&sr(n.prototype,a),i&&sr(n,i),t}(),yr=Object(u.b)(function(e){return{startState:e.questionnaireState.startState}},function(e,t){return{dispatchLoadQuestionnaireAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Cn.fetchStartData(e);case 3:r=t.sent,n((o=r,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE,payload:o})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}var o},t,this,[[0,7]])})),function(e){return t.apply(this,arguments)};var t}(t))},dispatchCreateInProgressSubmissionAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oe.getCSRFToken();case 3:return r=t.sent,t.next=6,Cn.createInProgressSubmission({questionnaireID:e,csrfToken:r});case 6:o=t.sent,R.redirectToQuestionnaireEditing(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])})),function(e){return t.apply(this,arguments)};var t}(t))}}})(mr),br=n(52);function dr(e){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vr(e,t,n[t])})}return e}function vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gr(e,t){return!t||"object"!==dr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Or(e){return(Or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Er(e,t){return(Er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gr(this,Or(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Er(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=hr({},this.props),t=e.question,n=e.onItemClick,r=e.index;return o.a.createElement("div",{className:"LeftBarItem"},this.renderIcon(t),o.a.createElement("button",{className:"btn",disabled:!t.isApplicable,onClick:function(e){n(t)}},r+1,". ",t.title))}},{key:"renderIcon",value:function(e){var t=hr({},e),n=t.isCurrent,r=t.hasAnswer,a=t.isApplicable;return n?o.a.createElement("img",{src:Ne.a}):a?r&&a?o.a.createElement("i",{className:"fas fa-check-circle success"}):o.a.createElement("i",{className:"fas fa-check-circle pending"}):o.a.createElement("i",{className:"fas fa-question-circle not-applicable"})}}])&&Sr(n.prototype,a),i&&Sr(n,i),t}();function wr(e){return(wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _r(e,t){return!t||"object"!==wr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cr(e){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_r(this,Cr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Tr(e,t,n[t])})}return e}({},this.props),t=e.questions,n=e.onItemClick;return o.a.createElement("div",{className:"LeftBar"},o.a.createElement("div",{className:"title"},"QUESTIONS:"),o.a.createElement("div",{className:"items"},t.map(function(e,t){return o.a.createElement(kr,{question:e,onItemClick:n,key:e.id,index:t})})))}}])&&Ar(n.prototype,a),i&&Ar(n,i),t}();function Pr(e){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nr(){return(Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xr(e,t){return!t||"object"!==Pr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lr(e,t){return(Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xr(this,Ur(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement(on,Nr({},this.props,{classes:["DarkButton"].concat(Dr(this.props.classes))}))}}])&&Rr(n.prototype,a),i&&Rr(n,i),t}();Qr.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Mr=Qr,qr=n(3),Fr=n.n(qr),Br=n(373);n(602);function Vr(e){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(){return(Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Kr(e,t,n[t])})}return e}function Kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wr(e,t){return!t||"object"!==Vr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gr(e){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zr(e,t){return(zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wr(this,Gr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=Jr({},this.props),t=e.question,n=e.index;return o.a.createElement("div",{className:"QuestionForm"},o.a.createElement("div",{className:"heading"},n+1,". ",t.heading),o.a.createElement("div",{className:"description"},t.description),this.renderActions(t),this.renderInputsForm(t))}},{key:"renderActions",value:function(e){var t=Jr({},this.props).handleActionClick;if("action"===e.type){var n=N.a.get(e,"actions",null);if(!n)return null;var r=null,a=n.find(function(e){return e.isChose});return a&&a.message&&(r=o.a.createElement("div",{className:"message"},o.a.createElement("b",null,"Message:"),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.message}}))),o.a.createElement("div",null,o.a.createElement("div",{className:"actions"},n.map(function(e,n){switch(n){case 0:return o.a.createElement(Mr,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return o.a.createElement(yn,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}})),r)}}},{key:"renderInputsForm",value:function(e){var t=Jr({},this.props).handleFormSubmit;if("input"===e.type){var n=N.a.get(e,"inputs",null);if(!n)return null;var r={};return n.forEach(function(e){r[e.id]=e.data||"","radio"==e.type&&null===e.data&&e.defaultRadioButtonValue&&(r[e.id]=e.defaultRadioButtonValue),"checkbox"==e.type&&null===e.data&&e.defaultCheckboxValue&&(r[e.id]=e.defaultCheckboxValue)}),o.a.createElement(br.c,{initialValues:r,validate:function(e){var t={};return n.forEach(function(n){var r=Jr({},n),o=r.id,a=r.type,i=r.required,u=r.label,c=r.minLength,s=N.a.get(e,o,null);if(i&&(!s||"[]"===s))return t[o]="- Please enter a value for ".concat(u),void("radio"!==a&&"checkbox"!==a||(t[o]="- Please select an option for ".concat(u)));if(c>0&&s&&s.length<c)t[o]="- Please enter a value with at least ".concat(c," characters for ").concat(u);else if("email"!==a||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(s)){if("date"===a)Fr()(s,"YYYY-MM-DD").isValid()||(t[o]="- Invalid date");"product aspects"!==a||!s||/^[0-9a-zA-Z\s\n]+$/i.test(s)||(t[o]="- Please enter alpha-numeric characters only.")}else t[o]="- Invalid email address"}),t},onSubmit:function(e,n){t(n,e)}},function(e){e.isSubmitting;var t=e.errors,r=e.touched,a=e.setFieldValue,i=e.values,u=[];return N.a.keys(t).filter(function(e){return Boolean(r[e])}).forEach(function(e){u[e]=t[e]}),o.a.createElement(br.b,null,o.a.createElement("table",null,o.a.createElement("tbody",null,n.map(function(e){var t=Jr({},e),n=t.id,r=t.type,c=t.label,s=t.placeholder,l=t.options,f=(t.defaultRadioButtonValue,t.defaultCheckboxValue,t.maxLength),p=Boolean(N.a.get(u,n,null)),m=[];return p&&m.push("error"),["text","email","url"].includes(r)?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,c)),o.a.createElement("td",null,o.a.createElement(br.a,{type:r,name:n,className:m.join(" "),placeholder:s,maxlength:f>0?f:4096}),p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"radio"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,c)),o.a.createElement("td",null,l.length&&l.map(function(e,t){var r=N.a.toString(e.value)===N.a.toString(i[n]);return o.a.createElement("div",{key:t},o.a.createElement("label",null,o.a.createElement(br.a,{type:"radio",name:n,value:e.value,className:"radio",checked:r}),e.label))})),o.a.createElement("td",null,p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"checkbox"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,c)),o.a.createElement("td",null,l.length&&l.map(function(e,t){var r=i[n]?JSON.parse(i[n]):[],u=r.includes(e.value);return o.a.createElement("div",{key:t},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",name:n,className:"checkbox",checked:u,onChange:function(t){t.target.checked?r.push(e.value):r.splice(r.indexOf(e.value),1),a(n,JSON.stringify(r))}}),e.label))})),o.a.createElement("td",null,p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"date"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,c)),o.a.createElement("td",null,o.a.createElement(br.a,{name:n,render:function(e){var t=null,r=e.field.value||null;return r&&r.trim().length>0&&(t=Fr()(r).toDate()),o.a.createElement(Br.a,{dateFormat:"dd-MM-yyyy",className:m.join(" "),selected:t,onChange:function(e){if(e){var t=Fr()(e).format("YYYY-MM-DD");a(n,t)}else a(n,null)},placeholderText:s,dropdownMode:"scroll",withPortal:!0})}}),p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"textarea"===r||"product aspects"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,c)),o.a.createElement("td",null,o.a.createElement(br.a,{name:n},function(e){var t=e.field;return o.a.createElement("textarea",Hr({},t,{className:m.join(" "),placeholder:s}))}),p&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):null}),o.a.createElement("tr",null,o.a.createElement("td",null),o.a.createElement("td",null,o.a.createElement(Mr,{title:"Continue"}))),o.a.createElement("tr",null,o.a.createElement("td",null),o.a.createElement("td",{className:"text-danger"},u&&N.a.keys(u).length>0&&o.a.createElement("div",null,"Whoops!",N.a.keys(u).map(function(e){return o.a.createElement("div",{className:"text-error",key:e},u[e])})))))))})}}}])&&Yr(n.prototype,a),i&&Yr(n,i),t}();function Xr(e){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){eo(e,t,n[t])})}return e}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e,t){return!t||"object"!==Xr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ro(e){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oo(e,t){return(oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ao=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),no(this,ro(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oo(e,t)}(t,r["Component"]),n=t,(a=[{key:"handleFormSubmit",value:function(e,t){var n=$r({},this.props),r=n.questions,o=n.saveAnsweredQuestion,a=r.find(function(e){return!0===e.isCurrent});if(a){var i=$r({},a);N.a.forIn(t,function(e,t){var n=i.inputs.findIndex(function(e){return e.id===t});n>=0&&N.a.set(i,"inputs.".concat(n,".data"),e)}),i.hasAnswer=!0,i.isApplicable=!0,o(i)}}},{key:"handleActionClick",value:function(e){var t=$r({},this.props),n=t.questions,r=t.saveAnsweredQuestion,o=n.find(function(e){return!0===e.isCurrent});if(o){var a=$r({},o);a.actions=a.actions.map(function(t){return t.isChose=t.id===e.id,t}),a.hasAnswer=!0,a.isApplicable=!0,r(a)}}},{key:"render",value:function(){var e=$r({},this.props),t=e.questions,n=e.onLeftBarItemClick,r=t.find(function(e){return!0===e.isCurrent}),a=t.findIndex(function(e){return e.id===r.id});return o.a.createElement("div",{className:"Questionnaire mx-1"},o.a.createElement("div",{className:"major"},o.a.createElement(jr,{questions:t,onItemClick:n}),r&&o.a.createElement(Zr,{index:a,key:r.id,question:r,handleFormSubmit:this.handleFormSubmit.bind(this),handleActionClick:this.handleActionClick.bind(this)})))}}])&&to(n.prototype,a),i&&to(n,i),t}();function io(e){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){co(e,t,n[t])})}return e}function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function so(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lo(e,t){return!t||"object"!==io(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fo(e){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function po(e,t){return(po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lo(this,fo(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&po(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=uo({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=uo({},this.props),t=e.dispatchSaveAnsweredQuestionAction,n=e.dispatchMoveToPreviousQuestionAction,r=e.loadingState,a=uo({},this.props.submissionState),i=a.title,u=a.siteConfig,c=a.user,s=a.submission;return c&&s&&u?r["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"]?null:"in_progress"!==s.status?o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(ar,{title:i,subtitle:u.siteTitle,username:c.name,logopath:u.logoPath}),o.a.createElement("div",{className:"questionnaire-message"},o.a.createElement("h3",null,"The questionnaire is not in progress...")),o.a.createElement(Tt,{footerCopyrightText:u.footerCopyrightText})):o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(ar,{title:i,subtitle:u.siteTitle,logopath:u.logoPath,username:c.name}),o.a.createElement(ao,{questions:s.questions,saveAnsweredQuestion:function(e){t(e)},onLeftBarItemClick:function(e){n(e)}}),o.a.createElement(Tt,{footerCopyrightText:u.footerCopyrightText})):null}}])&&so(n.prototype,a),i&&so(n,i),t}(),yo=Object(u.b)(function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState}},function(e,t){return{dispatchLoadSubmissionAction:function(t){e(Wn(t))},dispatchSaveAnsweredQuestionAction:function(t){var n,r;e((n=t,r=Yn(regeneratorRuntime.mark(function e(t,r){var o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER,payload:n}),o=r(),a=N.a.get(o,"questionnaireState.submissionState.submission.submissionID",null)){e.next=5;break}throw new Error("Something is wrong, please reload the page");case 5:return e.next=7,Oe.getCSRFToken();case 7:return i=e.sent,u=n.id,c=Nn.transformFromFullQuestionToData(n),e.prev=10,e.next=13,Cn.updateSubmissionData({submissionID:a,questionID:u,csrfToken:i,answerData:c});case 13:t(Gn(n)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),alert(e.t0.message);case 19:case"end":return e.stop()}},e,this,[[10,16]])})),function(e,t){return r.apply(this,arguments)}))},dispatchMoveToPreviousQuestionAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var o,a,i,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:if(!((i=a.questions.findIndex(function(e){return e.isCurrent}))<0)){t.next=7;break}throw new Error("Wrong state, please reload the questionnaire");case 7:if(e.isApplicable&&e.hasAnswer){t.next=9;break}return t.abrupt("return");case 9:if(!((u=a.questions.findIndex(function(t){return t.id===e.id}))<0)){t.next=12;break}return t.abrupt("return");case 12:return n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:u}),t.next=15,zn(r(),[i,u]);case 15:case"end":return t.stop()}},t,this)})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(mo),bo=n(51),ho=n.n(bo),vo=n(76),So=n.n(vo);function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ko(e,t){return!t||"object"!==go(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wo(e){return(wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function To(e,t){return(To=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ao=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ko(this,wo(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&To(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Oo(e,t,n[t])})}return e}({},this.props).questions;return o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement("div",{className:"questions"},t.map(function(t,n,r){var a=e.renderData(t);return o.a.createElement("div",{className:"row",key:t.id},o.a.createElement("div",{className:"col"},o.a.createElement("b",null,n+1,". ",t.heading)),o.a.createElement("div",{className:"vertical-divider"}),o.a.createElement("div",{className:"col"},a))})))}},{key:"renderData",value:function(e){if(!e.isApplicable){return o.a.createElement("div",null,"(Not applicable)")}if(!e.hasAnswer){return o.a.createElement("div",null,"(Has no answer)")}if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var t=function(e){var t=e.data||"";if("date"===e.type&&(t=Fr()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find(function(e){return e.value===t});n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter(function(e){return r.includes(e.value)}).map(function(e){return e.label});t=o.join(", ")}return t};return e.inputs.length>1?o.a.createElement("div",null,e.inputs.map(function(e){var n=t(e);return o.a.createElement("div",{key:e.id},o.a.createElement("b",null,e.label),"",o.a.createElement("span",null,"-"),"",o.a.createElement("span",null,n))})):o.a.createElement("div",null,t(e.inputs[0]).trim())}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var n=N.a.head(e.actions.filter(function(e){return e.isChose}));return o.a.createElement("div",null,n&&o.a.createElement("div",null,n.label))}}}])&&Eo(n.prototype,a),i&&Eo(n,i),t}();function _o(e){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jo(e,t){return!t||"object"!==_o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function No(e,t){return(No=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Do=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jo(this,Po(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&No(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Co(e,t,n[t])})}return e}({},this.props),t=e.submission,n=e.viewAs,r=e.secureToken,a=e.handleSubmitButtonClick,i=e.handlePDFDownloadButtonClick,u=e.handleEditAnswerButtonClick;if(!t)return null;var c=o.a.createElement("div",{className:"alert alert-success text-center"},"This questionnaire has already been submitted."),s=o.a.createElement("div",{className:"buttons"},o.a.createElement(yn,{title:"EDIT ANSWERS",iconImage:ho.a,classes:["button"],onClick:u}),o.a.createElement(yn,{title:"DOWNLOAD PDF",iconImage:So.a,classes:["button"],onClick:i}),o.a.createElement(Mr,{title:"SUBMIT QUESTIONNAIRE",classes:["button"],disabled:Nn.existsUnansweredQuestion(t.questions),onClick:a})),l=o.a.createElement("div",{className:"buttons"},o.a.createElement(yn,{title:"BACK TO SUMMARY",classes:["button"],onClick:function(){return R.redirectToQuestionnaireSummary(t.submissionUUID,r)}}));return o.a.createElement("div",{className:"Review"},"in_progress"!==t.status&&c,o.a.createElement(Ao,{questions:t.questions}),"submitter"===n&&("in_progress"===t.status||"submitted"===t.status)&&s,"submitter"!==n&&l)}}])&&Io(n.prototype,a),i&&Io(n,i),t}(),Ro=n(160),xo=n.n(Ro),Uo=n(367),Lo=n.n(Uo);function Qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"toString",value:function(e){return e?"".concat(e):""}}],(n=null)&&Qo(t.prototype,n),r&&Qo(t,r),e}();function qo(e){return(qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Bo(e,t,n[t])})}return e}function Bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ho(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Jo(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Ho(a,r,o,i,u,"next",e)}function u(e){Ho(a,r,o,i,u,"throw",e)}i(void 0)})}}function Ko(e){return Yo.apply(this,arguments)}function Yo(){return(Yo=Jo(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.addEventListener("load",function(t){e(t.target.result)}),n.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Wo(e){return Go.apply(this,arguments)}function Go(){return(Go=Jo(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t||fallback);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.next=8,Ko(r);case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var zo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"generatePDF",value:function(){var e=Jo(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s,l,f,p,m,y,b,d,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fo({},t),r=n.questions,o=n.submitter,a=n.questionnaireTitle,i=n.siteConfig,u=n.result,c=n.riskResults,l=[],f={questionnaireTitle:{bold:!0,fontSize:(s=12)+4,color:"#004071",alignment:"center"},siteTitle:{bold:!0,fontSize:s,color:"#004071",alignment:"center"},sectionHeading:{bold:!0,fontSize:s+2,color:"#004071"},questionHeading:{bold:!0}},p={fontSize:s},m={title:"".concat(a," - ").concat(o.name,".pdf")},y=Lo.a.pdfMake.vfs,xo.a.vfs=y,e.next=10,Wo(i.pdfHeaderImageLink);case 10:return b=e.sent,l.push({image:b,width:500,margin:[0,0,0,s]}),l.push({text:a,style:"questionnaireTitle",margin:[0,0,0,s/2]}),l.push({text:i.siteTitle,style:"siteTitle",margin:[0,0,0,2*s]}),l.push({text:"Submitted by:",style:"sectionHeading",margin:[0,0,0,s]}),l.push({text:"Name: ".concat(o.name),style:"questionHeading",margin:[0,0,0,s/2]}),l.push({text:"Email: ".concat(o.email),margin:[0,0,0,2*s]}),u&&(l.push({text:"Result:",style:"sectionHeading",margin:[0,0,0,s]}),l.push({text:"".concat(u),margin:[0,0,0,2*s]})),l.push({text:"Responses",style:"sectionHeading",margin:[0,0,0,s]}),r.forEach(function(e,t){if(l.push({text:"".concat(t+1,". ").concat(e.heading),style:"questionHeading",margin:[0,0,0,s/2]}),e.isApplicable)if(e.hasAnswer){if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var n=function(e){var t=e.data||"";if("date"===e.type&&(t=Fr()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find(function(e){return e.value===t});n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter(function(e){return r.includes(e.value)}).map(function(e){return e.label});t=o.join(", ")}return t};return e.inputs.length>1?void e.inputs.forEach(function(e,t,r){var o=t===r.length-1;l.push({text:"".concat(e.label,": ").concat(Mo.toString(n(e))),margin:[0,0,0,o?s:parseInt("".concat(s/3))]})}):void l.push({text:n(e.inputs[0]).trim(),margin:[0,0,0,s]})}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var r=N.a.head(e.actions.filter(function(e){return e.isChose}));l.push({text:r.label,margin:[0,0,0,s]})}}else l.push({text:"(Has no answer)",margin:[0,0,0,s]});else l.push({text:"(Not applicable)",margin:[0,0,0,s]})}),"object"===qo(c)&&c.length>0&&(d=[[{text:"Risk Name",bold:!0,alignment:"center"},{text:"Weights",bold:!0,alignment:"center"},{text:"Score",bold:!0,alignment:"center"},{text:"Rating",bold:!0,alignment:"center"}]],c.forEach(function(e,t){var n={text:e.rating,alignment:"center",color:"#"+e.colour,bold:!0};"Unknown"==e.rating&&(n={text:"Unknown",alignment:"center",color:"#000000",bold:!0}),d.push([{text:e.riskName},e.weights,e.score,n])}),l.push({table:{headerRows:1,widths:[237,75,75,75],body:d},width:500,margin:[0,0,0,s]})),e.next=23,Wo(i.pdfFooterImageLink);case 23:return h=e.sent,l.push({image:h,width:500,margin:[0,0,0,s]}),e.prev=25,e.next=28,xo.a.createPdf({info:m,content:l,styles:f,defaultStyle:p}).download(m.title);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(25),alert("Unable to generate your PDF. Maybe you have a browser Ad-Block extension enabled?");case 33:case"end":return e.stop()}},e,this,[[25,30]])}));return function(t){return e.apply(this,arguments)}}()},{key:"blobToDataURL",value:function(){var e=Jo(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&Vo(t.prototype,n),r&&Vo(t,r),e}();function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$o(e,t,n[t])})}return e}function $o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ta(e,t){return!t||"object"!==Zo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ra(e,t){return(ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ta(this,na(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ra(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Xo({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=Xo({},this.props).secureToken,t=Xo({},this.props.submissionState),n=t.title,r=t.siteConfig,a=t.user,i=t.submission,u=t.isCurrentUserApprover,c=t.isCurrentUserABusinessOwnerApprover;if(!a||!r)return null;var s="others";do{if(a.id===i.submitter.id){s="submitter";break}if(u){s="approver";break}if(c){s="businessOwnerApprover";break}}while(0);return o.a.createElement("div",{className:"ReviewContainer"},o.a.createElement(ar,{title:n,subtitle:"Review Responses",username:a.name,logopath:r.logoPath}),o.a.createElement(Do,{siteTitle:r.siteTitle,viewAs:s,submission:i,secureToken:e,handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleEditAnswerButtonClick:this.handleEditAnswerButtonClick.bind(this)}),o.a.createElement(Tt,{footerCopyrightText:r.footerCopyrightText}))}},{key:"handleSubmitButtonClick",value:function(){this.props.dispatchSubmitQuestionnaire()}},{key:"handlePDFDownloadButtonClick",value:function(){var e=Xo({},this.props.submissionState),t=e.submission,n=(e.siteTitle,e.siteConfig);t&&n&&zo.generatePDF({questions:t.questions,submitter:t.submitter,questionnaireTitle:t.questionnaireTitle,siteConfig:n})}},{key:"handleEditAnswerButtonClick",value:function(){var e=N.a.get(this.props.submissionState,"submission.submissionUUID","");e&&R.redirectToQuestionnaireEditing(e)}}])&&ea(n.prototype,a),i&&ea(n,i),t}(),aa=Object(u.b)(function(e){return{submissionState:e.questionnaireState.submissionState}},function(e,t){return{dispatchLoadSubmissionAction:function(t){e(Wn(t))},dispatchSubmitQuestionnaire:function(){var t;e((t=Yn(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(),o=r.questionnaireState.submissionState,a=o.submission){e.next=6;break}return e.abrupt("return");case 6:if(!Nn.existsUnansweredQuestion(a.questions)){e.next=9;break}return alert("There are questions not answered properly, please check your answers"),e.abrupt("return");case 9:return e.next=11,Oe.getCSRFToken();case 11:return i=e.sent,e.next=14,Cn.submitQuestionnaire({submissionID:a.submissionID,csrfToken:i});case 14:u=e.sent,c=u.uuid,R.redirectToQuestionnaireSummary(c),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),alert(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])})),function(e,n){return t.apply(this,arguments)}))}}})(oa);function ia(e){return(ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ua(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sa(e,t){return!t||"object"!==ia(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function la(e){return(la=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sa(this,la(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ua(e,t,n[t])})}return e}({},this.props).riskResults;return e&&0!==e.length?o.a.createElement("div",{className:"risks"},o.a.createElement("h3",null,"Risk Result"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"risk_table_header"},o.a.createElement("th",null,"Risk Name"),o.a.createElement("th",null,"Weights"),o.a.createElement("th",null,"Score"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map(function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.riskName),o.a.createElement("td",null,e.weights),o.a.createElement("td",null,e.score),o.a.createElement("td",{style:{color:"#"+e.colour}},e.rating))}))))):null}}])&&ca(n.prototype,a),i&&ca(n,i),t}();n(606);function ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ya=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isSRATaskFinalised",value:function(e){return e.filter(function(e){return"security risk assessment"===e.taskType&&"complete"===e.status}).length>0}},{key:"isSiblingTaskPending",value:function(e){var t=["start","in_progress","waiting_for_approval"];return e.filter(function(e){return"security risk assessment"!==e.taskType&&t.includes(e.status)}).length>0}},{key:"getSraIsFinalisedAlert",value:function(){return o.a.createElement("div",{className:"alert alert-success text-center"},"The security risk assessment is finalised.  The tasks can no longer be edited and will be included in the Certification and Accreditation Report. If you need to change your task answers, you will need to submit a new questionnaire.")}}],(n=null)&&ma(t.prototype,n),r&&ma(t,r),e}();function ba(e){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ha(e,t){return!t||"object"!==ba(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function va(e){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sa(e,t){return(Sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ga=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ha(this,va(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sa(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"The submission you are attempting to view does not exist or has expired. Please follow ",o.a.createElement("a",{href:"/"},"this link")," to the homepage where you can create a new submission."))}}])&&da(n.prototype,a),i&&da(n,i),t}();function Oa(e){return(Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ka(e,t,n[t])})}return e}function ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ta(e,t){return!t||"object"!==Oa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Aa(e){return(Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _a(e,t){return(_a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ca=function(e){if(e)return e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")},Ia=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ta(this,Aa(t).call(this,e))).state={skipBoAndCisoApproval:!1},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_a(e,t)}(t,r["Component"]),n=t,(a=[{key:"unfinishedTaskSubmissionMessage",value:function(){var e="",t=this.props.submission.taskSubmissions.filter(function(e){return"risk questionnaire"===e.taskType});if(t.length>0){var n=t[0],r="complete"===n.status||"approved"==n.status;n&&!r&&(e='Please complete "'.concat(n.taskName,'" to see the Security Risk Assessment'))}return e}},{key:"hasSelectableComponents",value:function(e){var t=e.taskSubmissions,n=!1;return t.forEach(function(e,t){"selection"===e.taskType&&(n=!0)}),n}},{key:"render",value:function(){var e=Ea({},this.props),t=e.submission,n=e.viewAs,r=e.user;return t?"in_progress"===t.status&&"submitter"===n?o.a.createElement("div",{className:"Summary"},o.a.createElement("h3",null,"Questionnaire Submission has not been completed...")):"expired"===t.status?o.a.createElement(ga,null):o.a.createElement("div",{className:"Summary"},this.renderSubmitterInfo(t),this.renderTasks(t),this.renderApprovals(t),o.a.createElement(pa,{riskResults:t.riskResults}),this.renderSkipCheckbox(t,n,r),this.renderButtons(t)):null}},{key:"renderSubmitterInfo",value:function(e){var t=e.submitter;return o.a.createElement("div",{className:"request-info"},o.a.createElement("h3",null,"Request Information"),o.a.createElement("div",null,o.a.createElement("b",null,"Product Name:")," ",e.productName," "),o.a.createElement("div",null,o.a.createElement("b",null,"Submitted by:")," ",t.name),o.a.createElement("div",null,o.a.createElement("b",null,"Email:")," ",t.email),o.a.createElement("div",null,o.a.createElement("b",null,"Status:")," ",Ca(e.status)))}},{key:"renderTasks",value:function(e){var t=this,n=e.taskSubmissions,r=ya.isSRATaskFinalised(e.taskSubmissions);if(0===n.length)return null;var a=this.unfinishedTaskSubmissionMessage()?o.a.createElement("div",{className:"alert alert-warning"},this.unfinishedTaskSubmissionMessage()):null;return o.a.createElement("div",{className:"tasks"},o.a.createElement("h3",null,"Tasks"),a,r?ya.getSraIsFinalisedAlert():null,n.map(function(e){var n=e.uuid,r=e.taskName,i=e.taskType,u=e.status,c=e.approver,s=r+" ("+Ca(u)+")";"start"===u&&(s=r+" (Please complete me)","security risk assessment"===i&&(s=r)),"approved"!==u&&"denied"!==u||!c.name||(s=r+" ("+Ca(u)+" by "+c.name+")");var l=Ea({},t.props).token,f=o.a.createElement("button",{className:"btn btn-link",onClick:function(e){"selection"!==i?"security risk assessment"!==i?"control validation audit"!==i?R.redirectToTaskSubmission(n,l):R.redirectToControlValidationAudit(n,l):R.redirectToSecurityRiskAssessment(n,l):R.redirectToComponentSelectionSubmission(n,l)}},s);return o.a.createElement("div",{key:n},a&&"security risk assessment"===i?null:f)}))}},{key:"renderButtons",value:function(e){var t=this,n=Ea({},this.props),r=n.user,a=n.viewAs,i=n.token,u=n.handleSubmitButtonClick,c=n.handlePDFDownloadButtonClick,s=n.handleApproveButtonClick,l=(n.handleOptionalApproveButtonClick,n.handleAssignToMeButtonClick),f=n.handleDenyButtonClick,p=n.handleEditButtonClick,m=o.a.createElement(yn,{title:"DOWNLOAD PDF",iconImage:So.a,classes:["button"],onClick:c}),y=r?o.a.createElement(yn,{title:"VIEW ANSWERS",classes:["button"],onClick:function(){return R.redirectToQuestionnaireReview(e.submissionUUID,i)}}):"";if("submitter"===a){var b=o.a.createElement(yn,{title:"EDIT ANSWERS",iconImage:ho.a,classes:["button"],onClick:p}),d=o.a.createElement(Mr,{title:"SEND FOR APPROVAL",classes:["button"],disabled:Nn.existsIncompleteTaskSubmission(e.taskSubmissions),onClick:u});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,b,m,d),o.a.createElement("div",null)):"waiting_for_security_architect_approval"===e.status||"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,b,m),o.a.createElement("div",null)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,m),o.a.createElement("div",null))}if("approver"===a||"businessOwnerApprover"===a){var h=o.a.createElement(yn,{title:"Assign to Me",classes:["button"],onClick:l}),v=o.a.createElement(Mr,{title:"APPROVE",classes:["button"],onClick:function(){return s(t.state.skipBoAndCisoApproval)}}),S=o.a.createElement(yn,{title:"DENY",classes:["button"],onClick:function(){return f(t.state.skipBoAndCisoApproval)}});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,m),o.a.createElement("div",null)):"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,m,h),o.a.createElement("div",null)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,m),o.a.createElement("div",null,v,S))}return o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,m),o.a.createElement("div",null))}},{key:"renderApprovals",value:function(e){if("in_progress"===e.status||"submitted"===e.status)return null;var t=e.approvalStatus,n=e.securityArchitectApprover,r=e.cisoApprover,a=Ca(t.securityArchitect);"Approved"==a&&(a=n.FirstName+" "+n.Surname+" - "+a),"waiting_for_security_architect_approval"===e.status&&(a="Being Reviewed by "+n.FirstName+" "+n.Surname);var i=Ca(t.chiefInformationSecurityOfficer);"Pending"!==i&&"Not Required"!==i&&(i=r.FirstName+" "+r.Surname+" - "+i);var u=Ca(t.businessOwner);return"Pending"!==u&&"Not Required"!==u&&(u=e.businessOwnerApproverName+" - "+u),o.a.createElement("div",{className:"approvals"},o.a.createElement("h3",null,"Approvals"),o.a.createElement("div",null,o.a.createElement("b",null,"Security Architect"),"-",a),o.a.createElement("div",null,o.a.createElement("b",null,"Chief Information Security Officer"),"-",i),o.a.createElement("div",null,o.a.createElement("b",null,"Business Owner"),"-",u))}},{key:"renderSkipCheckbox",value:function(e,t,n){var r=this;return n&&!n.isSA||!e.isApprovalOverrideBySecurityArchitect?null:"approver"===t&&n.isSA&&"waiting_for_security_architect_approval"===e.status?o.a.createElement("div",{className:"approvals"},o.a.createElement("h3",null,"Skip Business Owner and CISO approval"),o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:this.state.skipBoAndCisoApproval,onChange:function(e){r.setState({skipBoAndCisoApproval:e.target.checked})}})," This deliverable does not modify the current risk rating for this project. Business Owner and CISO approval is not required")):null}}])&&wa(n.prototype,a),i&&wa(n,i),t}();Ia.defaultProps={submission:null,handlePDFDownloadButtonClick:function(){},handleSubmitButtonClick:function(){},handleApproveButtonClick:function(){},handleDenyButtonClick:function(){},handleEditButtonClick:function(){},handleAssignToMeButtonClick:function(){},viewAs:"others",token:"",user:null};var ja=Ia,Pa=n(107),Na=n.n(Pa);function Da(e){return(Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xa(e,t,n[t])})}return e}function xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function La(e,t){return!t||"object"!==Da(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qa(e){return(Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ma(e,t){return(Ma=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qa=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=La(this,Qa(t).call(this))).state={showModal:!1},e}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ma(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Ra({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t,e.secureToken)}},{key:"render",value:function(){var e=Ra({},this.props),t=e.secureToken,n=e.loadingState,r=Ra({},this.props.submissionState),a=(r.location,r.title),i=r.user,u=r.submission,c=r.isCurrentUserApprover,s=r.isCurrentUserABusinessOwnerApprover,l=r.siteConfig;if(!i||!u||!l)return null;if(n["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"])return null;var f="others";do{if(i.id===u.submitter.id){f="submitter";break}if(s){f="businessOwnerApprover";break}if(c){f="approver";break}}while(0);return o.a.createElement("div",{className:"SummaryContainer"},o.a.createElement(ar,{title:a,subtitle:"Summary",username:i.name,logopath:l.logoPath}),o.a.createElement(ja,{submission:u,handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleEditButtonClick:this.handleOpenModal.bind(this),handleAssignToMeButtonClick:this.handleAssignToMeButtonClick.bind(this),viewAs:f,user:i,token:t}),o.a.createElement(Tt,{footerCopyrightText:l.footerCopyrightText}),o.a.createElement(Na.a,{isOpen:this.state.showModal,parentSelector:function(){return document.querySelector(".SummaryContainer")}},o.a.createElement("h3",null,"Are you sure you want to edit this submission?"),o.a.createElement("div",{className:"content"},"This will cancel your current submission and require it to be resubmitted for approval."),o.a.createElement("div",null,o.a.createElement(Mr,{title:"Yes",onClick:this.handleEditButtonClick.bind(this)}),o.a.createElement(yn,{title:"No",onClick:this.handleCloseModal.bind(this)}))))}},{key:"handlePDFDownloadButtonClick",value:function(){var e,t=Ra({},this.props.submissionState),n=t.submission,r=t.siteConfig;n&&r&&(n&&n.riskResults&&(e=n.riskResults),zo.generatePDF({questions:n.questions,submitter:n.submitter,questionnaireTitle:n.questionnaireTitle,siteConfig:r,riskResults:e||[]}))}},{key:"handleSubmitButtonClick",value:function(){var e=Ra({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchSubmitForApprovalAction(n.submissionID)}},{key:"handleApproveButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Ra({},this.props).secureToken,n=Ra({},this.props.submissionState),r=n.user,o=n.submission,a=n.isCurrentUserApprover,i=n.isCurrentUserABusinessOwnerApprover;r&&o&&(i?this.props.dispatchBusinessOwnerApproveSubmissionAction(o.submissionID,t):a&&this.props.dispatchApproveSubmissionAction(o.submissionID,e))}},{key:"handleDenyButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Ra({},this.props).secureToken,n=Ra({},this.props.submissionState),r=n.user,o=n.submission,a=n.isCurrentUserApprover,i=n.isCurrentUserABusinessOwnerApprover;r&&o&&(i?this.props.dispatchBusinessOwnerDenySubmissionAction(o.submissionID,t):a&&this.props.dispatchDenySubmissionAction(o.submissionID,e))}},{key:"handleAssignToMeButtonClick",value:function(){var e=Ra({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchAssignToMeAction(n.submissionID)}},{key:"handleEditButtonClick",value:function(){var e=Ra({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&(this.handleCloseModal(),this.props.dispatchEditSubmissionAction(n.submissionID))}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}}])&&Ua(n.prototype,a),i&&Ua(n,i),t}(),Fa=Object(u.b)(function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState}},function(e,t){return{dispatchLoadSubmissionAction:function(t,n){e(Wn(t,n))},dispatchBusinessOwnerApproveSubmissionAction:function(t,n){e(function(e,t){return n=Yn(regeneratorRuntime.mark(function n(r,o){var a,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Oe.getCSRFToken();case 3:return a=n.sent,n.next=6,Cn.approveQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,u=i.uuid,r(Wn(u,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchBusinessOwnerDenySubmissionAction:function(t,n){e(function(e,t){return n=Yn(regeneratorRuntime.mark(function n(r,o){var a,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Oe.getCSRFToken();case 3:return a=n.sent,n.next=6,Cn.denyQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,u=i.uuid,r(Wn(u,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchSubmitForApprovalAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oe.getCSRFToken();case 3:return o=t.sent,t.next=6,Cn.submitQuestionnaireForApproval({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(Wn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchEditSubmissionAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oe.getCSRFToken();case 3:return o=t.sent,t.next=6,Cn.editQuestionnaireSubmission({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,R.redirectToQuestionnaireEditing(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchApproveSubmissionAction:function(t,n){e(function(e,t){return n=Yn(regeneratorRuntime.mark(function n(r,o){var a,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Oe.getCSRFToken();case 3:return a=n.sent,n.next=6,Cn.approveQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,u=i.uuid,r(Wn(u)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchDenySubmissionAction:function(t,n){e(function(e,t){return n=Yn(regeneratorRuntime.mark(function n(r,o){var a,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Oe.getCSRFToken();case 3:return a=n.sent,n.next=6,Cn.denyQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,u=i.uuid,r(Wn(u)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchAssignToMeAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oe.getCSRFToken();case 3:return o=t.sent,t.next=6,Cn.assignQuestionnaireSubmissionToSecurityArchitect({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(Wn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(qa),Ba=n(368),Va=n.n(Ba);function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ja(e,t,n[t])})}return e}function Ja(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ka(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ya(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Ka(a,r,o,i,u,"next",e)}function u(e){Ka(a,r,o,i,u,"throw",e)}i(void 0)})}}function Wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ga=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"loadAvailableComponents",value:function(){var e=Ya(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n        ID\n        Name\n        Description\n    }\n  }\n}",e.next=3,M.request({query:"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n        ID\n        Name\n        Description\n    }\n  }\n}"});case 3:if(t=e.sent,n=k()(t,"data.readSecurityComponents"),Array.isArray(n)){e.next=7;break}return e.abrupt("return",[]);case 7:return r=n.map(function(e){return Un.parseFromJSONObject(e)}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createJiraTickets",value:function(){var e=Ya(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ha({},t),r=n.jiraKey,o=n.componentIDList,a=n.csrfToken,i=o.map(function(e){return"\ncreateJiraTicket".concat(e,': createJiraTicket(ComponentID: "').concat(e,'", JiraKey: "').concat(r,'") {\n  ID\n  JiraKey\n  TicketLink\n}')}),u="\nmutation {\n  ".concat(i.join("\n"),"\n}"),e.next=5,M.request({query:u,csrfToken:a});case 5:if(c=e.sent,s=k()(c,"data",null)){e.next=9;break}throw q;case 9:return l=Va()(o.map(function(e){var t="createJiraTicket".concat(e),n=k()(s,t,null);return n?{id:T()(k()(n,"ID","")),jiraKey:T()(k()(n,"JiraKey","")),link:T()(k()(n,"TicketLink",""))}:null})),e.abrupt("return",l);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&Wa(t.prototype,n),r&&Wa(t,r),e}();function za(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Za(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){za(a,r,o,i,u,"next",e)}function u(e){za(a,r,o,i,u,"throw",e)}i(void 0)})}}function Xa(){return function(){var e=Za(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ga.loadAvailableComponents();case 2:return n=e.sent,r={type:l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS,payload:n},e.next=6,t(r);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function $a(e,t){return function(){var n=Za(regeneratorRuntime.mark(function n(r){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}function ei(e,t){return function(){var n=Za(regeneratorRuntime.mark(function n(r){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}function ti(e){return function(){var t=Za(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_VIEW_MODE,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function ni(e){return function(){var t=Za(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_JIRA_TICKETS,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function ri(e){var t=e.selectedComponents.map(function(e){return e.isSaved=!0,e});return function(){var e=Za(regeneratorRuntime.mark(function e(n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS,payload:t},e.next=3,n(r);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function oi(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ai(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ii(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ai(a,r,o,i,u,"next",e)}function u(e){ai(a,r,o,i,u,"throw",e)}i(void 0)})}}function ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ci(e,t,n[t])})}return e}function ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function si(e){var t=ui({},e),n=t.uuid,r=t.secureToken,o=t.type;return function(){var e=ii(regeneratorRuntime.mark(function e(t){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hn.fetchTaskSubmission({uuid:n,secureToken:r});case 3:return a=e.sent,i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=7,t(i);case 7:if("componentSelection"!==o){e.next=10;break}return e.next=10,t(ri(a));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),$.displayError(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()}function li(e){var t=ui({},e),n=t.answeredQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=ii(regeneratorRuntime.mark(function e(t,a){var i,u,c,s,f,p,m,y,b,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=function(){return a().taskSubmissionState.taskSubmission})()){e.next=3;break}return e.abrupt("return");case 3:return u={type:l.TASK.PUT_DATA_IN_TASK_SUBMISSION,payload:n},e.next=6,t(u);case 6:if(o){e.next=24;break}return e.prev=7,e.t0=Hn,e.t1=i().uuid,e.t2=[n.id],e.t3=[Nn.transformFromFullQuestionToData(n)],e.next=14,Oe.getCSRFToken();case 14:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=19,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 19:e.next=24;break;case 21:e.prev=21,e.t7=e.catch(7),$.displayError(e.t7);case 24:if(c=Nn.getDataUpdateIntent({answeredQuestion:n,questions:i().questions}),s=c.currentIndex,f=c.nonApplicableIndexes,p=c.targetIndex,m=c.complete,c.terminate,y=c.result,!(f.length>0)){e.next=29;break}return b={type:l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE,payload:f},e.next=29,t(b);case 29:if(!(p>s)){e.next=33;break}return d={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:s,targetIndex:p}},e.next=33,t(d);case 33:if(o){e.next=42;break}return e.prev=34,e.next=37,bi(i(),N.a.uniq([s].concat(oi(f),[p])),r);case 37:e.next=42;break;case 39:e.prev=39,e.t8=e.catch(34),$.displayError(e.t8);case 42:if(!m){e.next=45;break}return e.next=45,t(pi({bypassNetwork:o,secureToken:r,result:y}));case 45:case"end":return e.stop()}},e,this,[[7,21],[34,39]])}));return function(t,n){return e.apply(this,arguments)}}()}function fi(e){return function(){var t=ii(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.taskSubmissionState.taskSubmission){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,n({type:l.TASK.SAVE_SELECTED_COMPONENT_REQUEST});case 6:return i=o.componentSelectionState.selectedComponents.map(function(e){return{SecurityComponentID:e.id,ProductAspect:e.productAspect,TaskSubmissionID:a.id}}),t.prev=7,t.t0=Hn,t.t1=e,t.t2=i,t.t3=a.uuid,t.next=14,Oe.getCSRFToken();case 14:return t.t4=t.sent,t.t5={jiraKey:t.t1,components:t.t2,uuid:t.t3,csrfToken:t.t4},t.next=18,t.t0.updateTaskSubmissionWithSelectedComponents.call(t.t0,t.t5);case 18:return t.next=20,n(pi());case 20:return t.next=22,n({type:l.TASK.SAVE_SELECTED_COMPONENT_SUCCESS});case 22:t.next=29;break;case 24:return t.prev=24,t.t6=t.catch(7),t.next=28,n({type:l.TASK.SAVE_SELECTED_COMPONENT_FAILURE});case 28:$.displayError(t.t6);case 29:case"end":return t.stop()}},t,this,[[7,24]])}));return function(e,n){return t.apply(this,arguments)}}()}function pi(){var e=ui({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.secureToken,n=e.bypassNetwork,r=e.result,o=e.taskSubmissionUUID,a=e.questionnaireUUID;return function(){var e=ii(regeneratorRuntime.mark(function e(i,u){var c,s,f,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(){return u().taskSubmissionState.taskSubmission},n){e.next=20;break}return e.prev=2,e.next=5,Oe.getCSRFToken();case 5:return s=e.sent,e.next=8,Hn.completeTaskSubmission({uuid:void 0===o?c().uuid:o,result:r||"",secureToken:t,csrfToken:s});case 8:return f=e.sent,p=f.uuid,e.next=12,i(si({uuid:p,secureToken:t}));case 12:void 0!==a&&R.redirectToQuestionnaireSummary(a,t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),$.displayError(e.t0);case 18:e.next=22;break;case 20:return e.next=22,i({type:l.TASK.COMPLETE_TASK_SUBMISSION,payload:r});case 22:case"end":return e.stop()}},e,this,[[2,15]])}));return function(t,n){return e.apply(this,arguments)}}()}function mi(e){var t=ui({},e),n=t.targetQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=ii(regeneratorRuntime.mark(function e(t,a){var i,u,c,s,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(u=i.questions,!((c=u.findIndex(function(e){return e.isCurrent}))<0)){e.next=7;break}throw new Error("Wrong state, please reload the task");case 7:if(n.isApplicable&&n.hasAnswer){e.next=9;break}return e.abrupt("return");case 9:if(!((s=u.findIndex(function(e){return e.id===n.id}))<0)){e.next=12;break}return e.abrupt("return");case 12:return f={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:c,targetIndex:s}},e.next=15,t(f);case 15:if(o){e.next=18;break}return e.next=18,bi(i,N.a.uniq([c,s]),r);case 18:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}function yi(){var e=ui({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.secureToken,n=e.bypassNetwork,r=e.type;return function(){var e=ii(regeneratorRuntime.mark(function e(o,a){var i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(n){e.next=28;break}return e.prev=4,e.t0=Hn,e.t1=i.uuid,e.next=9,Oe.getCSRFToken();case 9:return e.t2=e.sent,e.t3=t,e.t4={uuid:e.t1,csrfToken:e.t2,secureToken:e.t3},e.next=14,e.t0.editTaskSubmission.call(e.t0,e.t4);case 14:return u=e.sent,c=u.uuid,e.next=18,o(si({uuid:c,secureToken:t}));case 18:if("componentSelection"!==r){e.next=21;break}return e.next=21,o(ri(i));case 21:e.next=26;break;case 23:e.prev=23,e.t5=e.catch(4),$.displayError(e.t5);case 26:e.next=29;break;case 28:o({type:l.TASK.EDIT_TASK_SUBMISSION});case 29:case"end":return e.stop()}},e,this,[[4,23]])}));return function(t,n){return e.apply(this,arguments)}}()}function bi(e,t,n){return di.apply(this,arguments)}function di(){return(di=ii(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Hn,e.t1=t.uuid,e.t2=n.map(function(e){return t.questions[e].id}),e.t3=n.map(function(e){return Nn.transformFromFullQuestionToData(t.questions[e])}),e.next=7,Oe.getCSRFToken();case 7:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=12,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 12:e.next=17;break;case 14:e.prev=14,e.t7=e.catch(0),$.displayError(e.t7.message);case 17:case"end":return e.stop()}},e,this,[[0,14]])}))).apply(this,arguments)}function hi(e){return(hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Si(e,t,n[t])})}return e}function Si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oi(e,t){return!t||"object"!==hi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ei(e){return(Ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ki(e,t){return(ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Oi(this,Ei(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ki(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=vi({},this.props),n=t.taskSubmission,r=t.saveAnsweredQuestion,a=t.moveToPreviousQuestion,i=t.handleApproveButtonClick,u=t.handleDenyButtonClick,c=t.editAnswers,s=t.showBackButton,l=t.showEditButton,f=t.canUpdateAnswers,p=t.viewAs,m=t.secureToken,y=o.a.createElement(Ao,{questions:n.questions});f&&(y=o.a.createElement(ao,{questions:n.questions,saveAnsweredQuestion:r,onLeftBarItemClick:a}));var b=s?o.a.createElement(Mr,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){R.redirectToQuestionnaireSummary(n.questionnaireSubmissionUUID,m)}}):null,d="risk questionnaire"===n.taskType&&ya.isSRATaskFinalised(n.siblingSubmissions),h=l&&!d?o.a.createElement(yn,{title:"EDIT ANSWERS",onClick:c,iconImage:ho.a}):null,v=["complete","waiting_for_approval","approved","denied"],S=v.indexOf(n.status)>-1?o.a.createElement(yn,{title:"DOWNLOAD PDF",iconImage:So.a,onClick:function(){return e.downloadPdf()}}):null,g=n.result&&v.indexOf(n.status)>-1?o.a.createElement("div",{className:"result"},o.a.createElement("h3",null,"Result:"),o.a.createElement("div",null,n.result)):null,O=n.riskResults&&v.indexOf(n.status)>-1?o.a.createElement(pa,{riskResults:n.riskResults}):null,E="approver"===p&&"waiting_for_approval"===n.status?o.a.createElement(Mr,{title:"APPROVE",onClick:i,classes:["button"]}):null,k="approver"===p&&"waiting_for_approval"===n.status?o.a.createElement(yn,{title:"DENY",onClick:u,classes:["button"]}):null;return o.a.createElement("div",{className:"TaskSubmission"},"expired"===n.status&&o.a.createElement(ga,null),"expired"!==n.status&&o.a.createElement("div",null,!("risk questionnaire"!==n.taskType||!d)&&ya.getSraIsFinalisedAlert(),g,y,O,o.a.createElement("div",{className:"buttons"},h,S,b,o.a.createElement("div",null,E,k))))}},{key:"downloadPdf",value:function(){var e=vi({},this.props),t=e.taskSubmission,n=e.currentUser,r=e.siteConfig;(t||r||n)&&zo.generatePDF({questions:t.questions,submitter:t.submitter.email?t.submitter:n,questionnaireTitle:t.taskName,siteConfig:r,result:t.result,riskResults:t.riskResults})}}])&&gi(n.prototype,a),i&&gi(n,i),t}();function Ti(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchCurrentUser",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n}",e.next=3,M.request({query:"\nquery {\n  readCurrentMember {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n}"});case 3:if(t=e.sent,n=N.a.get(t,"data.readCurrentMember.0",null)){e.next=7;break}throw new Error("Authenticate error");case 7:if((r=En.parseUserFromJSON(n)).id){e.next=10;break}throw new Error("Authenticate error");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Ti(a,r,o,i,u,"next",e)}function u(e){Ti(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&Ai(t.prototype,n),r&&Ai(t,r),e}();function Ci(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ii(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_i.fetchCurrentUser();case 3:n=e.sent,r={type:l.USER.SET_CURRENT_USER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Ci(a,r,o,i,u,"next",e)}function u(e){Ci(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}function ji(e){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ni(e,t,n[t])})}return e}function Ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ri(e,t){return!t||"object"!==ji(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xi(e){return(xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ui(e,t){return(Ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Li=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ri(this,xi(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ui(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Pi({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=Pi({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,u=e.dispatchEditAnswersAction,c=(e.dispatchApproveTaskSubmissionAction,e.dispatchDenyTaskSubmissionAction,e.secureToken);if(!n||!r||!t)return null;var s="others";do{if(parseInt(n.id)===parseInt(r.submitter.id)){s="submitter";break}if(r.isCurrentUserAnApprover){s="approver";break}}while(0);var l=parseInt(n.id)===parseInt(r.submitter.id),f=("in_progress"===r.status||"start"===r.status)&&(n.isSA||l),p=("complete"===r.status||"waiting_for_approval"===r.status||"denied"===r.status)&&"submitted"===r.questionnaireSubmissionStatus&&(n.isSA||l&&!r.lockWhenComplete);return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(ar,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),o.a.createElement(wi,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:u,showEditButton:p,canUpdateAnswers:f,handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),showBackButton:!!r.questionnaireSubmissionUUID,viewAs:s,siteConfig:t,secureToken:c}),o.a.createElement(Tt,{footerCopyrightText:t.footerCopyrightText}))}},{key:"handleApproveButtonClick",value:function(){var e=Pi({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchApproveTaskSubmissionAction(r)}},{key:"handleDenyButtonClick",value:function(){var e=Pi({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchDenyTaskSubmissionAction(r)}}])&&Di(n.prototype,a),i&&Di(n,i),t}(),Qi=Object(u.b)(function(e){return{questionnaireSubmission:e.questionnaireState.submissionState,taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:function(t,n){e(Ii()),e(qt()),e(si({uuid:t,secureToken:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(li({answeredQuestion:t}))},dispatchMoveToPreviousQuestionAction:function(t){e(mi({targetQuestion:t}))},dispatchEditAnswersAction:function(){e(yi())},dispatchApproveTaskSubmissionAction:function(t){e(function(e){return t=ii(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oe.getCSRFToken();case 3:return o=t.sent,t.next=6,Hn.approveTaskSubmission({uuid:e,csrfToken:o});case 6:return t.sent.status,t.next=10,n(si({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchDenyTaskSubmissionAction:function(t){e(function(e){return t=ii(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oe.getCSRFToken();case 3:return o=t.sent,t.next=6,Hn.denyTaskSubmission({uuid:e,csrfToken:o});case 6:return t.sent.status,t.next=10,n(si({uuid:e}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(Li);function Mi(e){return(Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fi(e,t){return!t||"object"!==Mi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bi(e){return(Bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vi(e,t){return(Vi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ji(e,t,n[t])})}return e}function Ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ki=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fi(this,Bi(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vi(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,Hi({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Hi({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,u=e.dispatchEditAnswersAction;if(!n||!r||!t)return null;var c="in_progress"===r.status||"start"===r.status,s="complete"===r.status;return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(ar,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),o.a.createElement(wi,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:u,showEditButton:s,canUpdateAnswers:c,showBackButton:!1,siteConfig:t,currentUser:n}),o.a.createElement(Tt,{footerCopyrightText:t.footerCopyrightText}))}}])&&qi(n.prototype,a),i&&qi(n,i),t}(),Yi=Object(u.b)(function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user}},function(e,t){return{dispatchLoadDataAction:function(){var n=Hi({},t).taskId;e(Ii()),e(qt()),e(function(e){var t,n=ui({},e).taskId;return t=ii(regeneratorRuntime.mark(function e(t,r){var o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hn.fetchStandaloneTask({taskId:n});case 3:return o=e.sent,a={id:"",uuid:"",taskName:o.name,taskType:"questionnaire",status:"in_progress",result:"",questions:o.questions,selectedComponents:[],jiraTickets:[],questionnaireSubmissionUUID:"",questionnaireSubmissionID:"",submitter:r().currentUserState,lockWhenComplete:!1},i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=8,t(i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$.displayError(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])})),function(e,n){return t.apply(this,arguments)}}({taskId:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(li({answeredQuestion:t,bypassNetwork:!0}))},dispatchMoveToPreviousQuestionAction:function(t){e(mi({targetQuestion:t,bypassNetwork:!0}))},dispatchEditAnswersAction:function(){e(yi({bypassNetwork:!0}))}}})(Ki);function Wi(e){return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){zi(e,t,n[t])})}return e}function zi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xi(e,t){return!t||"object"!==Wi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $i(e){return($i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eu(e,t){return(eu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xi(this,$i(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eu(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=Gi({},this.props),t=e.title,n=e.disabled,r=e.onItemClick;return o.a.createElement("div",{className:"LeftBarItem"},o.a.createElement("button",{className:"btn",disabled:n,onClick:function(e){e.preventDefault(),r()}},this.renderIcon(),t))}},{key:"renderIcon",value:function(){switch(Gi({},this.props).iconType){case"editing":return o.a.createElement("img",{src:Ne.a,alt:""});case"success":return o.a.createElement("i",{className:"fas fa-check-circle success"});case"pending":return o.a.createElement("i",{className:"fas fa-check-circle pending"});case"not-applicable":return o.a.createElement("i",{className:"fas fa-question-circle not-applicable"});default:return null}}}])&&Zi(n.prototype,a),i&&Zi(n,i),t}();function nu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ru=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isComponentExist",value:function(e,t){return t.filter(function(t){return t.id===e}).length>0}},{key:"isSelectedComponentExist",value:function(e,t,n){return""!==t?n.filter(function(n){return n.id===e&&n.productAspect===t}).length>0:n.filter(function(t){return t.id===e}).length>0}},{key:"isComponentSaved",value:function(e,t,n){return n.filter(function(n){return n.id===e&&n.productAspect===t&&n.isSaved}).length>0}},{key:"doescomponentExistForProductAspect",value:function(e,t){return t.filter(function(t){return t.productAspect===e}).length>0}}],(n=null)&&nu(t.prototype,n),r&&nu(t,r),e}();function ou(e){return(ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){iu(e,t,n[t])})}return e}function iu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cu(e,t){return!t||"object"!==ou(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function su(e){return(su=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lu(e,t){return(lu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fu=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=cu(this,su(t).call(this,e))).state={filter:"",selectedProductAspect:e.productAspects&&e.productAspects.length?e.productAspects[0]:""},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lu(e,t)}(t,r["Component"]),n=t,(a=[{key:"handleChange",value:function(e){alert(e.target.value)}},{key:"render",value:function(){var e=this,t=au({},this.props),n=t.title,r=t.availableComponents,a=t.selectedComponents,i=t.removeComponent,u=t.addComponent,c=t.productAspects,s=t.componentTarget,l=au({},this.state),f=l.filter,p=l.selectedProductAspect;return o.a.createElement("div",{className:"LeftBar"},c&&c.length>0&&o.a.createElement("div",{className:"product-aspect"},o.a.createElement("label",null,o.a.createElement("span",{className:"product-aspect-label"},"Please select a Product Aspect:"),o.a.createElement("select",{className:"custom-select custom-select-sm",onChange:function(t){var n=T()(t.target.value).trim();e.setState({selectedProductAspect:n})},value:p},c.map(function(e,t){return o.a.createElement("option",{key:t,value:e},e)})))),o.a.createElement("div",{className:"title"},n),o.a.createElement("div",{className:"search"},o.a.createElement("i",{className:"fas fa-search"}),o.a.createElement("input",{type:"text",placeholder:"Filter component...",onChange:function(t){var n=T()(t.target.value).trim();e.setState({filter:n})}})),o.a.createElement("div",{className:"items"},r.filter(function(e){return!f||e.name.toUpperCase().includes(f.toUpperCase())}).map(function(e){var t=ru.isSelectedComponentExist(e.id,p,a),n=ru.isComponentSaved(e.id,p,a,s)&&"JIRA Cloud"==s;return o.a.createElement(tu,{title:e.name,iconType:t?"success":"pending",disabled:n,key:e.id,onItemClick:function(){t?i(e.id,p):u(e.id,p)}})})))}}])&&uu(n.prototype,a),i&&uu(n,i),t}();function pu(e){return(pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bu(e,t){return!t||"object"!==pu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function du(e){return(du=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hu(e,t){return(hu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bu(this,du(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hu(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){mu(e,t,n[t])})}return e}({},this.props),t=(e.id,e.name),n=e.description;return o.a.createElement("div",{className:"ControlInfo"},o.a.createElement("h5",null,t),o.a.createElement("p",{className:"control-description-cs",dangerouslySetInnerHTML:{__html:n}}))}}])&&yu(n.prototype,r),a&&yu(n,a),t}();function Su(e){return(Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eu(e,t){return!t||"object"!==Su(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ku(e){return(ku=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wu(e,t){return(wu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Eu(this,ku(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wu(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){gu(e,t,n[t])})}return e}({},this.props),t=e.id,n=e.name,r=e.description,a=e.removeComponent,i=e.childControls,u=e.isDisable;return o.a.createElement("div",{className:"ComponentInfo",key:t+n},o.a.createElement("h3",null,!u&&o.a.createElement("button",{onClick:function(e){e.preventDefault(),a()}},o.a.createElement("i",{className:"fas fa-minus-circle text-danger"}),o.a.createElement("span",null," ",n))),o.a.createElement("p",null,r),i&&i.length>0&&o.a.createElement("div",{className:"control-heading"},"Controls"),i&&i.length>0&&i.map(function(e,t){return o.a.createElement(vu,{key:t,id:e.id,name:e.name,description:e.description})}))}}])&&Ou(n.prototype,r),a&&Ou(n,a),t}();function Au(e){return(Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Cu(e,t,n[t])})}return e}function Cu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ju(e,t){return!t||"object"!==Au(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pu(e){return(Pu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nu(e,t){return(Nu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Du=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ju(this,Pu(t).call(this,e))).state={jiraKey:""},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nu(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=_u({},this.props),n=t.availableComponents,r=t.selectedComponents,a=t.createJIRATickets,i=t.removeComponent,u=t.addComponent,c=t.finishWithSelection,s=t.saveControls,l=t.extraButtons,f=t.componentTarget,p=t.productAspects,m=t.isStandaloneTask,y=_u({},this.state).jiraKey,b=p&&p.length>0&&r.length>0;return o.a.createElement("div",{className:"ComponentSelection"},o.a.createElement("div",{className:"main-wrapper"},o.a.createElement(fu,{selectedComponents:r,availableComponents:n,title:"Available Components",removeComponent:i,addComponent:u,productAspects:p,componentTarget:f}),o.a.createElement("div",{className:"main-content"},o.a.createElement("div",{className:"heading"},"Selected Components"),o.a.createElement("div",{className:"selected-components"},b>0&&p.map(function(e,t){return o.a.createElement("div",{key:t},ru.doescomponentExistForProductAspect(e,r)&&o.a.createElement("h4",{key:t},e),r.map(function(t,n){var r=t.hasOwnProperty("isSaved")&&t.isSaved&&"JIRA Cloud"==f;if(t.productAspect===e)return o.a.createElement(Tu,{key:t.id+(t.productAspect?"_".concat(t.productAspect):""),id:t.id,name:t.name,description:t.description,removeComponent:function(){i(t.id,t.productAspect)},childControls:t.controls,isDisable:r})}))}),(void 0===p||""===p||0===p.length)&&r.map(function(e,t){var n=e.hasOwnProperty("isSaved")&&e.isSaved&&"JIRA Cloud"==f;return o.a.createElement(Tu,{key:e.id,id:e.id,name:e.name,description:e.description,removeComponent:function(){i(e.id,e.productAspect)},childControls:e.controls,isDisable:n})})))),o.a.createElement("div",{className:"buttons-wrapper"},o.a.createElement("div",{className:"extra-buttons"},l),o.a.createElement("div",null,r.length>0&&"JIRA Cloud"===f&&o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"text",style:{height:"100%",marginRight:"10px"},placeholder:"JIRA Project Key",onChange:function(t){var n=T()(t.target.value).trim();e.setState({jiraKey:n})}}),o.a.createElement(Mr,{title:"CREATE JIRA TICKETS",classes:["mr-3"],onClick:function(){a(y)}})),"Local"===f&&!m&&o.a.createElement(yn,{title:"SAVE CONTROLS",classes:["mr-3"],onClick:function(){s()}}),o.a.createElement(yn,{title:"COMPLETE WITHOUT SELECTION",classes:["mr-3"],onClick:function(){c()}}))))}}])&&Iu(n.prototype,a),i&&Iu(n,i),t}();function Ru(e){return(Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lu(e,t){return!t||"object"!==Ru(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qu(e){return(Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mu(e,t){return(Mu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Lu(this,Qu(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mu(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xu(e,t,n[t])})}return e}({},this.props),t=e.selectedComponents,n=e.jiraTickets,r=e.buttons,a=e.componentTarget,i=e.productAspects,u=i&&i.length>0&&t.length>0;return o.a.createElement("div",{className:"ComponentSelectionReview"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),u>0&&i.map(function(e,n){return o.a.createElement("ul",{key:n},ru.doescomponentExistForProductAspect(e,t)&&o.a.createElement("h5",{key:n},e),t.map(function(t,n){if(t.productAspect===e)return o.a.createElement("li",{key:t.id+(e?"_".concat(e):"")},t.name)}))}),o.a.createElement("ul",null,(void 0===i||""===i||0===i.length)&&t.map(function(e){return o.a.createElement("li",{key:e.id},e.name)}))),"JIRA Cloud"===a&&o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Created Jira Tickets"),o.a.createElement("ul",null,n.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("a",{href:e.link,target:"_blank"},e.link))}))),o.a.createElement("div",{className:"buttons"},r))}}])&&Uu(n.prototype,r),a&&Uu(n,a),t}();function Fu(e){return(Fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Vu(e,t,n[t])})}return e}function Vu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ju(e,t){return!t||"object"!==Fu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ku(e){return(Ku=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yu(e,t){return(Yu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ju(this,Ku(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yu(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,Bu({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Bu({},this.props),t=e.siteConfig,n=e.currentUser,r=e.availableComponents,a=e.selectedComponents,i=e.dispatchAddComponentAction,u=e.dispatchRemoveComponentAction,c=e.dispatchCreateJIRATicketsAction,s=e.viewMode,l=e.jiraTickets,f=e.componentTarget;if(!n||!t)return null;var p=null;switch(s){case"edit":p=o.a.createElement(Du,{availableComponents:r,selectedComponents:a,componentTarget:f,isStandaloneTask:!0,createJIRATickets:function(e){c(e)},removeComponent:function(e){u(e)},addComponent:function(e){i(e)},finishWithSelection:function(){R.redirectToHome()}});break;case"review":p=o.a.createElement(qu,{selectedComponents:a,jiraTickets:l},o.a.createElement("div",{className:"buttons"},o.a.createElement(Mr,{title:"BACK TO HOME",onClick:function(){R.redirectToHome()}})))}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(ar,{title:"Component Selection",subtitle:t.siteTitle,logopath:t.logoPath,username:n.name}),p,o.a.createElement(Tt,{footerCopyrightText:t.footerCopyrightText}))}}])&&Hu(n.prototype,a),i&&Hu(n,i),t}(),Gu=Object(u.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents,viewMode:e.componentSelectionState.viewMode,jiraTickets:e.componentSelectionState.jiraTickets}},function(e,t){return{dispatchLoadDataAction:function(){e(Ii()),e(qt()),e(Xa())},dispatchAddComponentAction:function(t){e($a(t))},dispatchRemoveComponentAction:function(t){e(ei(t))},dispatchCreateJIRATicketsAction:function(t){e(function(e){return t=Za(regeneratorRuntime.mark(function t(n,r){var o,a,i,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("Please enter the project key!");case 3:if(o=r(),a=o.componentSelectionState.selectedComponents){t.next=7;break}throw new Error("Nothing to create in JIRA!");case 7:return t.next=9,Oe.getCSRFToken();case 9:return i=t.sent,t.next=12,Ga.createJiraTickets({jiraKey:e,componentIDList:Rn()(a.map(function(e){return e.id})),csrfToken:i});case 12:return u=t.sent,t.next=15,n(ni(u));case 15:return t.next=17,n(ti("review"));case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),$.displayError(t.t0);case 22:case"end":return t.stop()}},t,this,[[0,19]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(Wu);function zu(e){return(zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xu(e,t){return!t||"object"!==zu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $u(e){return($u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ec(e,t){return(ec=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xu(this,$u(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ec(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",{className:"alert alert-warning"},"The submission you are attempting to view has not been completed yet.")}}])&&Zu(n.prototype,a),i&&Zu(n,i),t}();function nc(e){return(nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oc(e,t){return!t||"object"!==nc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ac(e){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ic(e,t){return(ic=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){cc(e,t,n[t])})}return e}function cc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oc(this,ac(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ic(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,uc({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=uc({},this.props),t=e.siteConfig,n=(e.siteTitle,e.secureToken),r=e.currentUser,a=e.taskSubmission,i=e.availableComponents,u=e.selectedComponents,c=e.dispatchAddComponentAction,s=e.dispatchRemoveComponentAction,l=e.dispatchCreateJIRATicketsAction,f=e.dispatchSaveLocalControlsAction,p=e.dispatchFinishAction,m=e.dispatchEditAnswersAction;if(!r||!a||!t)return null;var y=parseInt(r.id)===parseInt(a.submitter.id),b=ya.isSRATaskFinalised(a.siblingSubmissions),d=("complete"===a.status||"waiting_for_approval"===a.status||"denied"===a.status)&&"submitted"===a.questionnaireSubmissionStatus&&(r.isSA||y)&&!a.lockWhenComplete,h=o.a.createElement(Mr,{key:"back",title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){R.redirectToQuestionnaireSummary(a.questionnaireSubmissionUUID,n)}}),v=d&&!b?o.a.createElement(yn,{title:"EDIT CONTROLS",onClick:m,classes:["button"],iconImage:ho.a}):null,S=null;switch(a.status){case"start":case"in_progress":if(y){S=o.a.createElement(Du,{availableComponents:i,selectedComponents:u,componentTarget:a.componentTarget,productAspects:a.productAspects,extraButtons:h,createJIRATickets:function(e){l(e)},saveControls:function(){f()},removeComponent:function(e,t){s(e,t)},addComponent:function(e,t){c(e,t)},finishWithSelection:function(){p()}});break}S=o.a.createElement("div",{className:"ComponentSelectionReview"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),o.a.createElement("br",null),o.a.createElement(tc,null)),o.a.createElement("div",{className:"buttons"},h));break;case"complete":S=o.a.createElement("div",null,o.a.createElement("div",{className:"ComponentSelectionReview"},!!b&&ya.getSraIsFinalisedAlert()),o.a.createElement(qu,{selectedComponents:a.selectedComponents,jiraTickets:a.jiraTickets,componentTarget:a.componentTarget,productAspects:a.productAspects,buttons:[o.a.createElement("div",{key:"component-selection-review-button-container"},v,h)]}));break;case"expired":S=o.a.createElement(ga,null)}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(ar,{title:"Component Selection",subtitle:t.siteTitle,logopath:t.logoPath,username:r.name}),S,o.a.createElement(Tt,{footerCopyrightText:t.footerCopyrightText}))}}])&&rc(n.prototype,a),i&&rc(n,i),t}(),lc=Object(u.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,taskSubmission:e.taskSubmissionState.taskSubmission,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents}},function(e,t){return{dispatchLoadDataAction:function(){var n=uc({},t),r=n.uuid,o=n.secureToken;e(qt()),e(Ii()),e(Xa()),e(si({uuid:r,secureToken:o,type:"componentSelection"}))},dispatchAddComponentAction:function(t,n){e($a(t,n))},dispatchRemoveComponentAction:function(t,n){e(ei(t,n))},dispatchCreateJIRATicketsAction:function(t){e(fi(t))},dispatchSaveLocalControlsAction:function(){e(fi(""))},dispatchFinishAction:function(){e(pi())},dispatchEditAnswersAction:function(){e(yi({type:"componentSelection"}))}}})(sc);function fc(e){return(fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){mc(e,t,n[t])})}return e}function mc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bc(e,t){return!t||"object"!==fc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dc(e){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hc(e,t){return(hc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vc(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var Sc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bc(this,dc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hc(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,pc({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=pc({},this.props),t=e.currentUser,n=e.mySubmissionList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(ar,{title:"My Submission",subtitle:r.siteTitle,username:t.name,logopath:r.logoPath}),function(e){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Pillar"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map(function(e){var t="";return t="in_progress"===e.status?"#/questionnaire/submission/"+e.uuid:"#/questionnaire/summary/"+e.uuid,o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Fr()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.questionnaireName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.status.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")),o.a.createElement("td",null,o.a.createElement("a",{href:t},"View")))}))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n),o.a.createElement(Tt,{footerCopyrightText:r.footerCopyrightText})):null}}])&&yc(n.prototype,a),i&&yc(n,i),t}(),gc=Object(u.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,mySubmissionList:e.questionnaireSubmissionListState.mySubmissionList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Ii());case 2:return t.next=4,e(function(){var e=Yn(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Cn.fetchQuestionnaireSubmissionList(r.id,"my_submission_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(qt());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(e){vc(a,r,o,i,u,"next",e)}function u(e){vc(a,r,o,i,u,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(Sc);function Oc(e){return(Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){kc(e,t,n[t])})}return e}function kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tc(e,t){return!t||"object"!==Oc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ac(e){return(Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _c(e,t){return(_c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cc(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var Ic=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tc(this,Ac(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_c(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,Ec({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Ec({},this.props),t=e.currentUser,n=e.siteConfig,r=e.awaitingApprovalList,a=e.loadingState;return t&&r&&n?a["QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(ar,{title:"Awaiting Approvals",username:t.name,subtitle:n.siteTitle,logopath:n.logoPath}),jc(r,t),o.a.createElement(Tt,{footerCopyrightText:n.footerCopyrightText})):null}}])&&wc(n.prototype,a),i&&wc(n,i),t}(),jc=function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Business Owner"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map(function(e){var n="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Fr()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.businessOwner),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,function(e,t,n){return"waiting_for_security_architect_approval"===e&&n.id==t?"Assigned to me":e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}(e.status,e.SecurityArchitectApproverID,t)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))}))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))},Pc=Object(u.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,awaitingApprovalList:e.questionnaireSubmissionListState.awaitingApprovalList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Ii());case 2:return t.next=4,e(function(){var e=Yn(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Cn.fetchQuestionnaireSubmissionList(r.id,"awaiting_approval_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(qt());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(e){Cc(a,r,o,i,u,"next",e)}function u(e){Cc(a,r,o,i,u,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(Ic);function Nc(e){return(Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Rc(e,t,n[t])})}return e}function Rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uc(e,t){return!t||"object"!==Nc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lc(e){return(Lc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qc(e,t){return(Qc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mc(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var qc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Uc(this,Lc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qc(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,Dc({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Dc({},this.props),t=e.currentUser,n=e.myProductList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(ar,{title:"My Products",subtitle:r.siteTitle,username:t.name,logopath:r.logoPath}),function(e){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map(function(e){var t="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Fr()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,e.status.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")),o.a.createElement("td",null,o.a.createElement("a",{href:t},"View")))}))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n),o.a.createElement(Tt,{footerCopyrightText:r.footerCopyrightText})):null}}])&&xc(n.prototype,a),i&&xc(n,i),t}(),Fc=Object(u.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,myProductList:e.questionnaireSubmissionListState.myProductList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Ii());case 2:return t.next=4,e(function(){var e=Yn(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Cn.fetchQuestionnaireSubmissionList(r.id,"my_product_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(qt());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(e){Mc(a,r,o,i,u,"next",e)}function u(e){Mc(a,r,o,i,u,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(qc);function Bc(e){return(Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jc(e,t){return!t||"object"!==Bc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kc(e){return(Kc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yc(e,t){return(Yc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jc(this,Kc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yc(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Vc(e,t,n[t])})}return e}({},this.props).likelihoodThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"LikelihoodLegend"},o.a.createElement("h3",null,"Likelihood Legend"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"likelihood_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map(function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))}))))):null}}])&&Hc(n.prototype,a),i&&Hc(n,i),t}();function Gc(e){return(Gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xc(e,t){return!t||"object"!==Gc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $c(e){return($c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function es(e,t){return(es=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ts=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xc(this,$c(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&es(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){zc(e,t,n[t])})}return e}({},this.props).impactThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"ImapctLegend"},o.a.createElement("h3",null,"Impact Legend"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"impact_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map(function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))}))))):null}}])&&Zc(n.prototype,a),i&&Zc(n,i),t}();function ns(e){return(ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function os(e,t){return!t||"object"!==ns(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function as(e){return(as=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function is(e,t){return(is=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var us=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),os(this,as(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&is(e,t)}(t,r["Component"]),n=t,(a=[{key:"renderTableHeader",value:function(){return o.a.createElement("tr",{key:"sra_header"},o.a.createElement("th",null,"Risk"),this.props.hasProductAspects&&o.a.createElement("th",null,"Product Aspect"),o.a.createElement("th",null,"Current Controls"),o.a.createElement("th",null,"Current Likelihood"),o.a.createElement("th",null,"Current Impact"),o.a.createElement("th",null,"Current Risk Rating"),o.a.createElement("th",null,"Recommended Treatments"))}},{key:"renderTableBody",value:function(){var e=this;return this.props.hasProductAspects?this.props.calculatedSRAData.map(function(t,n){return t.productAspects.map(function(n,r){var o={riskId:t.riskId,riskName:0==r?"".concat(t.riskName," (").concat(t.baseImpactScore,")"):null,riskDescription:0==r?t.description:null,components:n.components,currentLikelihood:n.currentLikelihood,currentImpact:n.currentImpact,currentRiskRating:n.currentRiskRating};return e.renderTableRow(o,n.productAspectName)})}):this.props.calculatedSRAData.map(function(t,n){var r={riskId:t.riskId,riskName:"".concat(t.riskName," (").concat(t.baseImpactScore,")"),riskDescription:t.description,components:t.riskDetail.components,currentLikelihood:t.riskDetail.currentLikelihood,currentImpact:t.riskDetail.currentImpact,currentRiskRating:t.riskDetail.currentRiskRating};return e.renderTableRow(r)})}},{key:"renderTableRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.a.createElement("tr",{key:t+"_"+e.riskId},o.a.createElement("td",null,o.a.createElement("span",{style:{display:"block"}},e.riskName),o.a.createElement("small",{className:"text-muted"},e.riskDescription)),this.props.hasProductAspects&&t&&o.a.createElement("td",null,t),o.a.createElement("td",null,this.renderComponents(e.components,"Implemented")),o.a.createElement("td",null,this.renderCurrentLikelihood(e.currentLikelihood)),o.a.createElement("td",null,this.renderCurrentImapct(e.currentImpact)),o.a.createElement("td",{style:e.currentRiskRating.colour?{backgroundColor:e.currentRiskRating.colour}:null},this.renderCurrentRiskRating(e.currentRiskRating)),o.a.createElement("td",null,this.renderComponents(e.components,"Recommened")))}},{key:"renderComponents",value:function(e,t){var n=this;return e&&Array.isArray(e)&&0!=e.length?e.map(function(e,r){var a="Implemented"===t?e.implementedControls:e.recommendedControls;return o.a.createElement("div",{key:r+1},o.a.createElement("strong",{key:e.id},a.length>0?e.name:null),a.length>0&&n.renderControls(a))}):null}},{key:"renderControls",value:function(e){return e.map(function(e,t){return o.a.createElement("div",{key:t+1},o.a.createElement("span",{key:e.id},e.name),o.a.createElement("small",{className:"text-muted"},"( I: ",e.impactWeight,", L: ",e.likelihoodWeight,", IP: ",e.impactPenalty,", LP: ",e.likelihoodPenalty,")"))})}},{key:"renderCurrentLikelihood",value:function(e){return o.a.createElement("div",null,o.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),o.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentImapct",value:function(e){return o.a.createElement("div",null,o.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),o.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentRiskRating",value:function(e){return o.a.createElement("div",null,e.name)}},{key:"render",value:function(){return this.props.calculatedSRAData?o.a.createElement("div",{className:"RiskMatrix"},o.a.createElement("h3",null,"Your risk assessment results"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"thead-light"},this.renderTableHeader()),o.a.createElement("tbody",null,this.renderTableBody())))):null}}])&&rs(n.prototype,a),i&&rs(n,i),t}();function cs(e){return(cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ss(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fs(e,t){return!t||"object"!==cs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ps(e){return(ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ms(e,t){return(ms=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ys=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fs(this,ps(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ms(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ss(e,t,n[t])})}return e}({},this.props).riskRatingThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"RiskRatingLegend"},o.a.createElement("h3",null,"Risk Rating Matix"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("p",{className:"impact-heading"},"Impact"),o.a.createElement("table",{className:"table table-sm table-bordered"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"risk_rating_legend_header"},e.tableHeader.map(function(e,t){return o.a.createElement("th",{key:t},e)}))),o.a.createElement("tbody",null,e.tableRows.map(function(e,t){return o.a.createElement("tr",{key:"row_"+t},e.map(function(e,t){return o.a.createElement("td",{key:"column_"+t,style:e.color?{backgroundColor:e.color}:null},e.name)}))}))))):null}}])&&ls(n.prototype,a),i&&ls(n,i),t}();function bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ds(e,t,n[t])})}return e}function ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hs(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function vs(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){hs(a,r,o,i,u,"next",e)}function u(e){hs(a,r,o,i,u,"throw",e)}i(void 0)})}}function Ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gs=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchSecurityRiskAssessmentTasK",value:function(){var e=vs(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=bs({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    UUID\n    TaskName\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    Submitter {\n      ID\n    }\n    Status\n    SecurityRiskAssessmentData\n  }\n}'),e.next=4,M.request({query:a});case 4:if(i=e.sent,u=k()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw q;case 8:return c=JSON.parse(k()(u,"SecurityRiskAssessmentData","")),s={uuid:u&&u.UUID?u.UUID:"",taskName:T()(k()(u,"TaskName","")),status:T()(k()(u,"Status","")),submitterID:T()(k()(u,"Submitter.ID","")),questionnaireSubmissionUUID:T()(k()(u,"QuestionnaireSubmission.UUID","")),taskSubmissions:W.parseAlltaskSubmissionforQuestionnaire(u),sraData:c},e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchImpactThreshold",value:function(){var e=vs(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}",e.next=3,M.request({query:"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}"});case 3:if(t=e.sent,n=k()(t,"data.readImpactThreshold",null)){e.next=7;break}throw q;case 7:return r=n.map(function(e){return{name:_.toString(_.get(e,"Name","")),color:_.toString(_.get(e,"Colour","")),operator:_.toString(_.get(e,"Operator","")),value:_.toString(_.get(e,"Value",""))}}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],n&&Ss(t.prototype,n),r&&Ss(t,r),e}();function Os(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Es(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Os(a,r,o,i,u,"next",e)}function u(e){Os(a,r,o,i,u,"throw",e)}i(void 0)})}}function ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ws(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ks(e,t,n[t])})}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=Es(regeneratorRuntime.mark(function e(t){var o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_REQUEST});case 2:return e.prev=2,e.next=5,gs.fetchSecurityRiskAssessmentTasK({uuid:n,secureToken:r});case 5:return o=e.sent,a={type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS,payload:o},e.next=9,t(a);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),e.next=15,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_FAILURE,error:e.t0});case 15:$.displayError(e.t0);case 16:case"end":return e.stop()}},e,this,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()}function Ts(e){return(Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function As(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_s(e,t,n[t])})}return e}function _s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Is(e,t){return!t||"object"!==Ts(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function js(e){return(js=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ps(e,t){return(Ps=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ns=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Is(this,js(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ps(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=As({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=this,t=As({},this.props),n=t.siteConfig,r=t.currentUser,a=t.securityRiskAssessmentData,i=t.secureToken,u=t.impactThresholdData;if(!r||!n||!a)return null;var c=As({},a),s=c.uuid,l=(c.taskName,c.questionnaireSubmissionUUID),f=(c.submitterID,c.taskSubmissions),p=c.sraData,m=(c.status,ya.isSRATaskFinalised(f)),y=o.a.createElement(yn,{title:"BACK TO QUESTIONNAIRE SUMMARY",classes:["button ml-3"],onClick:function(){R.redirectToQuestionnaireSummary(l,i)}}),b=ya.isSiblingTaskPending(f),d=a.submitterID===r.id,h=m||b||!d?null:o.a.createElement(Mr,{title:"FINALISE",classes:["button ml-3"],onClick:function(){e.props.dispatchFinaliseAction(s,i,l)}});return o.a.createElement("div",{className:"SecurityRiskAssessmentContainer"},o.a.createElement(ar,{title:a.taskName,subtitle:n.siteTitle,username:r.name,logopath:n.logoPath}),"expired"===a.status&&o.a.createElement(ga,null),"expired"!==a.status&&o.a.createElement("div",{className:"SecurityRiskAssessmentResult"},!!m&&ya.getSraIsFinalisedAlert(),o.a.createElement(us,{calculatedSRAData:p.calculatedSRAData,hasProductAspects:p.hasProductAspects}),o.a.createElement(Wc,{likelihoodThresholds:p.likelihoodThresholds}),o.a.createElement(ts,{impactThresholds:u}),o.a.createElement(ys,{riskRatingThresholds:p.riskRatingThresholds}),o.a.createElement("div",{className:"buttons"},y,h)),o.a.createElement(Tt,{footerCopyrightText:n.footerCopyrightText}))}}])&&Cs(n.prototype,a),i&&Cs(n,i),t}(),Ds=Object(u.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,securityRiskAssessmentData:e.securityRiskAssessmentState.securityRiskAssessmentData,impactThresholdData:e.securityRiskAssessmentState.impactThresholdData}},function(e,t){return{dispatchLoadDataAction:function(t,n){var r;e(Ii()),e(qt()),e(ws({uuid:t,secureToken:n})),e((r=Es(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gs.fetchImpactThreshold();case 3:return n=e.sent,r={type:l.SRA.LOAD_IMPACT_THRESHOLD,payload:n},e.next=7,t(r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),$.displayError(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])})),function(e){return r.apply(this,arguments)}))},dispatchFinaliseAction:function(t,n,r){e(pi({taskSubmissionUUID:t,secureToken:n,questionnaireUUID:r}))}}})(Ns);function Rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xs(e,t,n[t])})}return e}function xs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Us(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ls(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Us(a,r,o,i,u,"next",e)}function u(e){Us(a,r,o,i,u,"throw",e)}i(void 0)})}}function Qs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ms=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchControlValidationAuditTaskSubmission",value:function(){var e=Ls(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rs({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        TaskType\n        Status\n      }\n    }\n    TaskName\n    CVATaskData\n    ProductAspects\n    CVATaskDataSource\n    Status\n    Submitter {\n      ID\n    }\n  }\n}'),e.next=4,M.request({query:a});case 4:if(i=e.sent,u=k()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw q;case 8:return c=JSON.parse(k()(u,"CVATaskData","[]")),Array.isArray(c)||(c=[]),s=c.length>0?Un.parseCVAFromJSONObject(c):c,l={id:T()(k()(u,"ID","")),status:T()(k()(u,"Status","")),uuid:T()(k()(u,"UUID","")),questionnaireSubmissionUUID:T()(k()(u,"QuestionnaireSubmission.UUID","")),taskName:T()(k()(u,"TaskName","")),selectedComponents:s,submitterID:T()(k()(u,"Submitter.ID","")),componentTarget:T()(k()(u,"CVATaskDataSource","")),productAspects:_.has(u,"ProductAspects")?JSON.parse(k()(u,"ProductAspects",[])):[],siblingSubmissions:W.parseAlltaskSubmissionforQuestionnaire(u)},e.abrupt("return",l);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"saveControlValidationAuditData",value:function(){var e=Ls(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rs({},t),r=n.uuid,o=n.controlData,a=n.csrfToken,i=window.btoa(JSON.stringify(o)),u='\nmutation {\n  updateControlValidationAuditTaskSubmission(UUID: "'.concat(r,'", CVATaskData: "').concat(i,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=5,M.request({query:u,csrfToken:a});case 5:if(c=e.sent,_.get(c,"data.updateControlValidationAuditTaskSubmission.CVATaskData",null)){e.next=9;break}throw q;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"reSyncWithJira",value:function(){var e=Ls(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rs({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n  reSyncWithJira(UUID: "'.concat(r,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=4,M.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=_.get(i,"data.reSyncWithJira",null)){e.next=8;break}throw q;case 8:return c=JSON.parse(k()(u,"CVATaskData","[]")),Array.isArray(c)||(c=[]),s=c.length>0?Un.parseCVAFromJSONObject(c):c,e.abrupt("return",s);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&Qs(t.prototype,n),r&&Qs(t,r),e}();function qs(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Fs(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){qs(a,r,o,i,u,"next",e)}function u(e){qs(a,r,o,i,u,"throw",e)}i(void 0)})}}function Bs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vs(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Bs(e,t,n[t])})}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=Fs(regeneratorRuntime.mark(function e(t){var o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_REQUEST});case 2:return e.prev=2,e.next=5,t({type:l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA,payload:null});case 5:return e.next=7,Ms.fetchControlValidationAuditTaskSubmission({uuid:n,secureToken:r});case 7:return o=e.sent,a={type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS,payload:o},e.next=11,t(a);case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(2),e.next=17,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_FAILURE,error:e.t0});case 17:$.displayError(e.t0);case 18:case"end":return e.stop()}},e,this,[[2,13]])}));return function(t){return e.apply(this,arguments)}}()}function Hs(e){return(Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Js(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ks(e,t,n[t])})}return e}function Ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ys(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ws(e,t){return!t||"object"!==Hs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gs(e){return(Gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zs(e,t){return(zs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zs(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Xs(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Zs(a,r,o,i,u,"next",e)}function u(e){Zs(a,r,o,i,u,"throw",e)}i(void 0)})}}var $s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ws(this,Gs(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zs(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Xs(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Js({},this.props),n=t.uuid,r=t.dispatchLoadDataAction,o=t.secureToken,e.next=3,r(n,o);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderCVAQuestionsForm",value:function(){var e=this,t=this.props.controlValidationAuditData.productAspects,n=this.props.cvaSelectedComponents;return"DefaultComponent"!==this.props.controlValidationAuditData.componentTarget&&t.length>0&&n.length>0?this.renderComponentGroupByProductAspect(t,n):n.length>0?o.a.createElement("div",null,n.map(function(t){return e.renderComponent(t)})):o.a.createElement("div",{className:"alert alert-warning",key:"unfinished_cs_task_message"},"No components have been selected. Please complete the component selection task with at least one component selected.")}},{key:"renderComponentGroupByProductAspect",value:function(e,t){var n=this;return o.a.createElement("div",null,e.map(function(e,r){var a=t.filter(function(t){return t.productAspect===e});return 0==a.length?null:o.a.createElement("div",{className:"mt-2",key:r},o.a.createElement("h4",null,e),a.map(function(e){return n.renderComponent(e)}))}))}},{key:"renderComponent",value:function(e){var t=this,n=e.productAspect?"".concat(e.productAspect,"_").concat(e.id):e.id,r=e.controls,a=e.jiraTicketLink?o.a.createElement("a",{href:e.jiraTicketLink},e.jiraTicketLink):null;return o.a.createElement("div",{key:n},o.a.createElement("h5",null,e.name,a&&"JIRA Cloud"==this.props.controlValidationAuditData.componentTarget&&o.a.createElement("span",null," - ",a)),r&&r.length>0&&r.map(function(n){return t.renderControl(n,e)}),!r||0==r.length&&o.a.createElement("div",{className:"alert alert-warning",key:"no_controls_message"},"There are no controls for the component."))}},{key:"renderControl",value:function(e,t){var n=t.productAspect?"".concat(t.productAspect,"_").concat(t.id,"_").concat(e.id):"".concat(t.id,"_").concat(e.id);return"JIRA Cloud"===this.props.controlValidationAuditData.componentTarget?this.renderRemoteControls(e,n):this.renderLocalControl(e,n,t)}},{key:"renderLocalControl",value:function(e,t,n){var r=this,a=[{value:"Realised",label:"Yes"},{value:"Intended",label:"No"},{value:"Not Applicable",label:"N/A"}];return o.a.createElement("div",{className:"my-0 container row",key:t},o.a.createElement("div",{className:"col-xs-2"},a.map(function(a,i){return o.a.createElement("label",{key:"optionlabel_".concat(t,"_").concat(i)},o.a.createElement("input",{type:"radio",key:"radiobutton_".concat(t,"_").concat(i),name:t,value:a.value,defaultChecked:e.selectedOption===a.value,onClick:function(){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:a.value,controlID:e.id,componentID:n.id,productAspect:n.productAspect})}}),a.label)})),o.a.createElement("div",{className:"col-10"},o.a.createElement("label",{key:e.id},o.a.createElement("strong",null,e.name),e.description&&o.a.createElement("small",{className:"text-muted control-description",dangerouslySetInnerHTML:{__html:"- "+e.description}}))))}},{key:"renderRemoteControls",value:function(e,t){var n=e.selectedOption.toLowerCase().replace(" ","-");return o.a.createElement("div",{className:"my-0",key:t},o.a.createElement("label",{className:"ml-2",key:e.id},o.a.createElement("span",null,o.a.createElement("strong",null,e.name)," - "),o.a.createElement("span",{className:n},"(",e.selectedOption,")")))}},{key:"render",value:function(){var e=Js({},this.props),t=e.siteConfig,n=e.currentUser,r=e.controlValidationAuditData,a=e.secureToken,i=e.dispatchSaveControlValidationAuditDataAction,u=e.cvaSelectedComponents,c=e.dispatchReSyncWithJira;if(!n||!r||!t)return null;var s=r.submitterID===n.id,l=ya.isSRATaskFinalised(r.siblingSubmissions),f=s&&!l&&u.length>0?o.a.createElement(yn,{title:"SUBMIT",onClick:function(){return i(r.uuid,u,r.questionnaireSubmissionUUID,a)}}):null,p=o.a.createElement(Mr,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){R.redirectToQuestionnaireSummary(r.questionnaireSubmissionUUID,a)}}),m=s&&!l&&"JIRA Cloud"==r.componentTarget&&u.length>0?o.a.createElement(Mr,{title:"RE SYNC WITH JIRA",onClick:function(){return c(r.uuid)}}):null;return o.a.createElement("div",{className:"ControlValidationAuditContainer"},o.a.createElement(ar,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),"expired"===r.status&&o.a.createElement(ga,null),"expired"!==r.status&&o.a.createElement("div",{className:"ControlValidationAuditResult",key:"0"},o.a.createElement("div",{className:"ControlValidationAuditForm"},o.a.createElement("h3",null,"Have These Controls Been Implemented?"),["start","in_progress"].includes(r.status)&&!s&&o.a.createElement(tc,null),(s||"complete"==r.status)&&o.a.createElement("div",null,!!l&&ya.getSraIsFinalisedAlert(),this.renderCVAQuestionsForm())),o.a.createElement("div",{className:"buttons",key:"component_validation_buttons"},o.a.createElement("div",null,f,m,p))),o.a.createElement(Tt,{footerCopyrightText:t.footerCopyrightText}))}}])&&Ys(n.prototype,a),i&&Ys(n,i),t}(),el=Object(u.b)(function(e){return{currentUser:e.currentUserState.user,controlValidationAuditData:e.controlValidationAuditState.controlValidationAuditData,cvaSelectedComponents:e.controlValidationAuditState.cvaSelectedComponents,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:(n=Xs(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e(Vs({uuid:n,secureToken:r})),e(Ii()),e(qt())]);case 2:case"end":return t.stop()}},t,this)})),function(e,t){return n.apply(this,arguments)}),dispatchSaveControlValidationAuditDataAction:function(t,n,r,o){e(function(e,t,n,r){return o=Fs(regeneratorRuntime.mark(function o(a){var i,u,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Oe.getCSRFToken();case 3:return i=o.sent,o.next=6,Ms.saveControlValidationAuditData({uuid:e,controlData:t,csrfToken:i});case 6:return u=o.sent,c={type:l.CVA.SAVE_CONTROL_VALIDATION_AUDIT_DATA,payload:u},o.next=10,a(c);case 10:R.redirectToQuestionnaireSummary(n,r),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(0),$.displayError(o.t0);case 16:case"end":return o.stop()}},o,this,[[0,13]])})),function(e){return o.apply(this,arguments)};var o}(t,n,r,o))},dispatchUpdateControlValidationQuestionDataAction:function(t){var n,r;e((n=t,r=Fs(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA,payload:n},e.next=3,t(r);case 3:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}))},dispatchReSyncWithJira:function(t){e(function(e){return t=Fs(regeneratorRuntime.mark(function t(n){var r,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:l.CVA.RE_SYNC_WITH_JIRA_REQUEST});case 2:return t.prev=2,t.next=5,Oe.getCSRFToken();case 5:return r=t.sent,t.next=8,Ms.reSyncWithJira({uuid:e,csrfToken:r});case 8:return o=t.sent,a={type:l.CVA.RE_SYNC_WITH_JIRA_SUCCESS,payload:o},t.next=12,n(a);case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(2),t.next=18,n({type:l.CVA.RE_SYNC_WITH_JIRA_FAILURE,error:t.t0});case 18:$.displayError(t.t0);case 19:case"end":return t.stop()}},t,this,[[2,14]])})),function(e){return t.apply(this,arguments)};var t}(t))}};var n})($s),tl=n(37),nl=n(369);function rl(e){return(rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ol(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function al(e,t){return!t||"object"!==rl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function il(e){return(il=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ul(e,t){return(ul=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),al(this,il(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ul(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"loading-spinner-page-overlay"},o.a.createElement("div",{className:"loading-spinner"},o.a.createElement(nl.Icon,{spin:!0,name:"spinner"})," Loading...")))}}])&&ol(n.prototype,a),i&&ol(n,i),t}(),sl=n(670);function ll(e){return(ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pl(e,t){return!t||"object"!==ll(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ml(e){return(ml=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yl(e,t){return(yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pl(this,ml(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yl(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",null,this.props.loading&&o.a.createElement(cl,null),o.a.createElement("main",null,o.a.createElement(c.a,null,o.a.createElement(s.a,{exact:!0,path:"/"},function(){return o.a.createElement(Wt,null)}),o.a.createElement(s.a,{path:"/questionnaire/start/:id"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(yr,{questionnaireID:t.params.id}))}),o.a.createElement(s.a,{path:"/questionnaire/submission/:hash"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(yo,{submissionHash:t.params.hash}))}),o.a.createElement(s.a,{path:"/questionnaire/review/:hash"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(tl.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(aa,{submissionHash:t.params.hash,secureToken:r}))}),o.a.createElement(s.a,{path:"/questionnaire/summary/:hash"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(tl.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Fa,{submissionHash:t.params.hash,secureToken:r}))}),o.a.createElement(s.a,{path:"/task/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(tl.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Qi,{uuid:t.params.uuid,secureToken:r}))}),o.a.createElement(s.a,{path:"/tasks/standalone/:taskId"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Yi,{taskId:t.params.taskId}))}),o.a.createElement(s.a,{path:"/component-selection/standalone/:taskId"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(tl.parse)(n.search).componentTarget);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Gu,{taskId:t.params.taskId,componentTarget:r}))}),o.a.createElement(s.a,{path:"/component-selection/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(tl.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(lc,{uuid:t.params.uuid,secureToken:r}))}),o.a.createElement(s.a,{path:"/control-validation-audit/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(tl.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(el,{uuid:t.params.uuid,secureToken:r}))}),o.a.createElement(s.a,{path:"/security-risk-assessment/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(tl.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Ds,{uuid:t.params.uuid,secureToken:r}))}),o.a.createElement(s.a,{path:"/MySubmissions"},function(e){e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(gc,null))}),o.a.createElement(s.a,{path:"/AwaitingApprovals"},function(e){e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Pc,null))}),o.a.createElement(s.a,{path:"/MyProducts"},function(e){e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Fc,null))}))))}}])&&fl(n.prototype,a),i&&fl(n,i),t}(),dl=Object(sl.a)(Object(u.b)(function(e){return{loading:N.a.chain(e.loadingState).values().some(function(e){return e}).value()}},function(e,t){return{}})(bl)),hl=n(669),vl=n(13),Sl=(n(628),{title:"",subtitle:"",pillars:[],tasks:[]});function gl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ol(e,t,n[t])})}return e}function Ol(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var El={title:"",subtitle:"",keyInformation:"",questionnaireID:"",user:null},kl={title:"",siteTitle:"",user:null,submission:null,isCurrentUserApprover:!1,isCurrentUserABusinessOwnerApprover:!1};var wl=Object(vl.combineReducers)({startState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:El,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE?t.payload:e},submissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kl,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS)return t.payload;if(t.type===l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER){if(!e.submission)return e;var n=t.payload,r=e.submission.questions.findIndex(function(e){return e.id===n.id});if(r<0)return e;var o=gl({},e);return N.a.set(o,"submission.questions.".concat(r),n),o}if(t.type===l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION){var a=e.submission;if(!a)return e;var i=gl({},t).targetIndex,u=a.questions.findIndex(function(e){return e.isCurrent});if(i<0||i>=a.questions.length)return e;var c=gl({},e);return N.a.set(c,"submission.questions.".concat(u,".isCurrent"),!1),N.a.set(c,"submission.questions.".concat(i,".isCurrent"),!0),c}if(t.type===l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE){var s=e.submission;if(!s)return e;var f=gl({},e),p=t.nonApplicableIndexes;return p&&p.length>0&&p.forEach(function(e){var t=s.questions[e];t.isApplicable=!1,N.a.set(f,"submission.questions.".concat(e),t)}),f}return e}}),Tl=n(77),Al=n.n(Tl),_l=n(46),Cl=n.n(_l);function Il(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jl={taskSubmission:null};function Pl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nl={user:null};function Dl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rl={siteConfig:null};var xl=n(371),Ul=n.n(xl);function Ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ql(e,t,n[t])})}return e}function Ql(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ml={availableComponents:[],selectedComponents:[],savedComponents:[],jiraTickets:[],viewMode:"edit"},ql=ru.isComponentExist,Fl=ru.isSelectedComponentExist;function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Vl(e,t,n[t])})}return e}function Vl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hl={awaitingApprovalList:[],mySubmissionList:[],myProductList:[]};function Jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Kl(e,t,n[t])})}return e}function Kl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yl={securityRiskAssessmentData:null,impactThresholdData:null};function Wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Gl(e,t,n[t])})}return e}function Gl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zl={controlValidationAuditData:null,cvaSelectedComponents:[]};ru.isSelectedComponentExist;function Zl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var $l=Object(vl.combineReducers)({homeState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.HOME.LOAD_HOME_STATE_FINISHED:return t.payload;default:return e}},questionnaireState:wl,taskSubmissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jl,t=arguments.length>1?arguments[1]:void 0,n=e.taskSubmission;if(t.type===l.TASK.LOAD_TASK_SUBMISSION)return{taskSubmission:t.payload};if(t.type===l.TASK.PUT_DATA_IN_TASK_SUBMISSION){if(!n)return e;var r=t.payload,o=n.questions.findIndex(function(e){return e.id===r.id});if(o<0)return e;var a=Al()(e);return Cl()(a,"taskSubmission.questions.".concat(o),r),a}if(t.type===l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE){if(!n)return e;var i=Al()(e),u=t.payload;return u&&u.length>0&&u.forEach(function(e){var t=n.questions[e];t.isApplicable=!1,Cl()(i,"taskSubmission.questions.".concat(e),t)}),i}if(t.type===l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION){if(!n)return e;var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Il(e,t,n[t])})}return e}({},t.payload),s=c.currentIndex,f=c.targetIndex;if(f<0||f>=n.questions.length)return e;var p=Al()(e);return Cl()(p,"taskSubmission.questions.".concat(s,".isCurrent"),!1),Cl()(p,"taskSubmission.questions.".concat(f,".isCurrent"),!0),p}if(t.type===l.TASK.COMPLETE_TASK_SUBMISSION){var m=Al()(e);return Cl()(m,"taskSubmission.status","complete"),t.payload&&Cl()(m,"taskSubmission.result",t.payload),m}if(t.type===l.TASK.EDIT_TASK_SUBMISSION){var y=Al()(e);return Cl()(y,"taskSubmission.status","in_progress"),Cl()(y,"taskSubmission.result",null),y}return e},currentUserState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.SET_CURRENT_USER:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pl(e,t,n[t])})}return e}({},e,{user:t.payload});default:return e}},siteConfigState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.SITE_CONFIG.LOAD_SITE_CONFIG:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Dl(e,t,n[t])})}return e}({},e,{siteConfig:t.payload});default:return e}},componentSelectionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ml,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS)return Ll({},e,{availableComponents:t.payload});if(t.type===l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT){var n=t,r=n.payload.id,o=n.payload.productAspect;if(!Fl(r,o,e.selectedComponents)&&ql(r,e.availableComponents)){var a=e.availableComponents.filter(function(e){return e.id===r}),i=Object.assign({},a[0]);return i.productAspect=o,Ll({},e,{selectedComponents:Ul()(e.selectedComponents,i)})}}if(t.type===l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT){var u=t,c=u.payload.id,s=u.payload.productAspect;if(Fl(c,s,e.selectedComponents)&&ql(c,e.availableComponents))return Ll({},e,{selectedComponents:e.selectedComponents.filter(function(e){return e.id!==c||e.productAspect!==s})})}return t.type===l.COMPONENT_SELECTION.SET_JIRA_TICKETS?Ll({},e,{jiraTickets:t.payload}):t.type===l.COMPONENT_SELECTION.SET_VIEW_MODE?Ll({},e,{viewMode:t.payload}):t.type===l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS?Ll({},e,{selectedComponents:t.payload}):e},questionnaireSubmissionListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS?Bl({},e,{awaitingApprovalList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS?Bl({},e,{mySubmissionList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS?Bl({},e,{myProductList:t.payload}):e},securityRiskAssessmentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yl,t=arguments.length>1?arguments[1]:void 0;return t.type===l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS?Jl({},e,{securityRiskAssessmentData:t.payload}):t.type===l.SRA.LOAD_IMPACT_THRESHOLD?Jl({},e,{impactThresholdData:t.payload}):e},controlValidationAuditState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zl,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS){var n=t.payload,r=[];return n&&(r=n.selectedComponents,delete n.selectedComponents),Wl({},e,{controlValidationAuditData:n,cvaSelectedComponents:r})}if(t.type===l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA){var o=t.payload.selectedOption,a=t.payload.productAspect,i=t.payload.controlID,u=t.payload.componentID,c=Object(P.cloneDeep)(e.cvaSelectedComponents),s=[];if((s=""!==a?c.filter(function(e){return e.id==u&&e.productAspect==a}):c.filter(function(e){return e.id==u})).length>0){var f=s[0].controls.filter(function(e){return e.id==i});if(f.length>0)return f[0].selectedOption=o,Wl({},e,{cvaSelectedComponents:c})}}return t.type===l.CVA.RE_SYNC_WITH_JIRA_SUCCESS?Wl({},e,{cvaSelectedComponents:t.payload}):t.type===l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA?Wl({},e,{controlValidationAuditData:t.payload,cvaSelectedComponents:[]}):e},loadingState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1?arguments[1]:void 0).type,n=/(.*)\/(REQUEST|SUCCESS|FAILURE)/.exec(t);if(!n)return e;var r=Xl(n,3);r[0];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Zl(e,t,n[t])})}return e}({},e,Zl({},r[1],"REQUEST"===r[2]))}}),ef=n(372),tf=[f.a];var nf=Object(vl.createStore)($l,Object(ef.composeWithDevTools)(vl.applyMiddleware.apply(void 0,tf)));function rf(e){return(rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function of(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function af(e,t){return!t||"object"!==rf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uf(e){return(uf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cf(e,t){return(cf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){lf(e,t,n[t])})}return e}function lf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ff=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),af(this,uf(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cf(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,sf({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=sf({},this.props),t=e.siteConfig,n=e.taskSubmission,r=e.dispatchSaveAnsweredQuestionAction,a=e.dispatchMoveToPreviousQuestionAction,i=e.dispatchEditAnswersAction;return n&&t?o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(ar,{title:n.taskName,subtitle:t.siteTitle,showLogoutButton:!1,logopath:t.logoPath}),o.a.createElement(wi,{taskSubmission:n,saveAnsweredQuestion:r,moveToPreviousQuestion:a,editAnswers:i,showBackButton:!1,showEditButton:!1,canUpdateAnswers:"in_progress"===n.status||"start"===n.status,siteConfig:t,siteTitle:t.siteTitle}),o.a.createElement(Tt,{footerCopyrightText:t.footerCopyrightText})):null}}])&&of(n.prototype,a),i&&of(n,i),t}(),pf=Object(u.b)(function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:function(){var n=sf({},t),r=n.uuid,o=n.secureToken;e(si({uuid:r,secureToken:o})),e(qt())},dispatchSaveAnsweredQuestionAction:function(n){var r=sf({},t).secureToken;e(li({answeredQuestion:n,secureToken:r}))},dispatchMoveToPreviousQuestionAction:function(n){var r=sf({},t).secureToken;e(mi({targetQuestion:n,secureToken:r}))},dispatchEditAnswersAction:function(){var n=sf({},t).secureToken;e(yi({secureToken:n}))}}})(ff);function mf(e){return(mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bf(e,t){return!t||"object"!==mf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function df(e){return(df=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hf(e,t){return(hf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bf(this,df(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hf(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("main",null,o.a.createElement(c.a,null,o.a.createElement(s.a,{path:"/task/submission/:uuid"},function(e){var t=e.match,n=e.location,r=Object(tl.parse)(n.search);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(pf,{uuid:t.params.uuid,secureToken:r.token||""}))}))))}}])&&yf(n.prototype,a),i&&yf(n,i),t}();window.addEventListener("load",function(){Na.a.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",padding:"20px"}};var e=document.getElementById("main-app");e&&i.a.render(o.a.createElement(hl.a,null,o.a.createElement(u.a,{store:nf},o.a.createElement(dl,null))),e);var t=document.getElementById("vendor-app");t&&i.a.render(o.a.createElement(hl.a,null,o.a.createElement(u.a,{store:nf},o.a.createElement(vf,null))),t)})},74:function(e,t,n){e.exports=n.p+"../img/b0b707ee0bdf8b4add381179f4a89bf9.svg"},76:function(e,t,n){e.exports=n.p+"../img/64544011f835a0bcc13b668a98a70f78.svg"}});
//# sourceMappingURL=main.bundle.js.map